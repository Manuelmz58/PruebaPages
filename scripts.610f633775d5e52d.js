(function(){var r={};function n(){}function u(l){return l}function o(l){return!!l}function i(l){return!l}var f,m="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;function d(l){return function(){if(null===l)throw new Error("Callback was already called.");l.apply(this,arguments),l=null}}function C(l){return function(){null!==l&&(l.apply(this,arguments),l=null)}}null!=m&&(f=m.async),r.noConflict=function(){return m.async=f,r};var B=Object.prototype.toString,y=Array.isArray||function(l){return"[object Array]"===B.call(l)};function U(l){return y(l)||"number"==typeof l.length&&l.length>=0&&l.length%1==0}function O(l,p){for(var v=-1,E=l.length;++v<E;)p(l[v],v,l)}function D(l,p){for(var v=-1,E=l.length,g=Array(E);++v<E;)g[v]=p(l[v],v,l);return g}function R(l){return D(Array(l),function(p,v){return v})}function _(l,p){for(var v=0;v<l.length;v++)if(l[v]===p)return v;return-1}var x=Object.keys||function(l){var p=[];for(var v in l)l.hasOwnProperty(v)&&p.push(v);return p};function H(l){var v,E,p=-1;return U(l)?(v=l.length,function(){return++p<v?p:null}):(E=x(l),v=E.length,function(){return++p<v?E[p]:null})}function P(l,p){return p=null==p?l.length-1:+p,function(){for(var v=Math.max(arguments.length-p,0),E=Array(v),g=0;g<v;g++)E[g]=arguments[g+p];switch(p){case 0:return l.call(this,E);case 1:return l.call(this,arguments[0],E)}}}function Z(l){return function(p,v,E){return l(p,E)}}var nt="function"==typeof setImmediate&&setImmediate,tt=nt?function(l){nt(l)}:function(l){setTimeout(function(){l()},0)};function X(l){return function(p,v,E){E=C(E||n);var g=H(p=p||[]);if(l<=0)return E(null);var b=!1,S=0,N=!1;!function q(){if(b&&S<=0)return E(null);for(;S<l&&!N;){var G=g();if(null===G)return b=!0,void(S<=0&&E(null));S+=1,v(p[G],G,d(function(et){S-=1,et?(E(et),N=!0):q()}))}}()}}function j(l){return function(p,v,E){return l(r.eachOf,p,v,E)}}function M(l){return function(p,v,E,g){return l(X(v),p,E,g)}}function L(l){return function(p,v,E){return l(r.eachOfSeries,p,v,E)}}function J(l,p,v,E){E=C(E||n);var g=U(p=p||[])?[]:{};l(p,function(b,S,N){v(b,function(q,G){g[S]=G,N(q)})},function(b){E(b,g)})}function Q(l,p,v,E){var g=[];l(p,function(b,S,N){v(b,function(q){q&&g.push({index:S,value:b}),N()})},function(){E(D(g.sort(function(b,S){return b.index-S.index}),function(b){return b.value}))})}function Y(l,p,v,E){Q(l,p,function(g,b){v(g,function(S){b(!S)})},E)}function h(l,p,v){return function(E,g,b,S){function N(){S&&S(v(!1,void 0))}function q(G,et,K){if(!S)return K();b(G,function(rt){S&&p(rt)&&(S(v(!0,G)),S=b=!1),K()})}arguments.length>3?l(E,g,q,N):(S=b,b=g,l(E,q,N))}}function F(l,p){return p}function z(l,p,v){v=v||n;var E=U(p)?[]:{};l(p,function(g,b,S){g(P(function(N,q){q.length<=1&&(q=q[0]),E[b]=q,S(N)}))},function(g){v(g,E)})}function $(l,p,v,E){var g=[];l(p,function(b,S,N){v(b,function(q,G){g=g.concat(G||[]),N(q)})},function(b){E(b,g)})}function ot(l,p,v){if(null==p)p=1;else if(0===p)throw new Error("Concurrency must not be zero");function E(q,G,et,K){if(null!=K&&"function"!=typeof K)throw new Error("task callback must be a function");if(q.started=!0,y(G)||(G=[G]),0===G.length&&q.idle())return r.setImmediate(function(){q.drain()});O(G,function(rt){var lt={data:rt,callback:K||n};et?q.tasks.unshift(lt):q.tasks.push(lt),q.tasks.length===q.concurrency&&q.saturated()}),r.setImmediate(q.process)}function g(q,G){return function(){b-=1;var et=!1,K=arguments;O(G,function(rt){O(S,function(lt,mt){lt===rt&&!et&&(S.splice(mt,1),et=!0)}),rt.callback.apply(rt,K)}),q.tasks.length+b===0&&q.drain(),q.process()}}var b=0,S=[],N={tasks:[],concurrency:p,payload:v,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(q,G){E(N,q,!1,G)},kill:function(){N.drain=n,N.tasks=[]},unshift:function(q,G){E(N,q,!0,G)},process:function(){if(!N.paused&&b<N.concurrency&&N.tasks.length)for(;b<N.concurrency&&N.tasks.length;){var q=N.tasks.splice(0,N.payload?N.payload:N.tasks.length),G=D(q,function(K){return K.data});0===N.tasks.length&&N.empty(),b+=1,S.push(q[0]);var et=d(g(N,q));l(G,et)}},length:function(){return N.tasks.length},running:function(){return b},workersList:function(){return S},idle:function(){return N.tasks.length+b===0},pause:function(){N.paused=!0},resume:function(){if(!1!==N.paused){N.paused=!1;for(var q=Math.min(N.concurrency,N.tasks.length),G=1;G<=q;G++)r.setImmediate(N.process)}}};return N}function ct(l){return P(function(p,v){p.apply(null,v.concat([P(function(E,g){"object"==typeof console&&(E?console.error&&console.error(E):console[l]&&O(g,function(b){console[l](b)}))})]))})}function Ft(l){return function(p,v,E){l(R(p),v,E)}}function Tt(l){return P(function(p,v){var E=P(function(g){var b=this,S=g.pop();return l(p,function(N,q,G){N.apply(b,g.concat([G]))},S)});return v.length?E.apply(this,v):E})}function wt(l){return P(function(p){var v=p.pop();p.push(function(){var g=arguments;E?r.setImmediate(function(){v.apply(null,g)}):v.apply(null,g)});var E=!0;l.apply(this,p),E=!1})}r.nextTick="object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:tt,r.setImmediate=nt?tt:r.nextTick,r.forEach=r.each=function(l,p,v){return r.eachOf(l,Z(p),v)},r.forEachSeries=r.eachSeries=function(l,p,v){return r.eachOfSeries(l,Z(p),v)},r.forEachLimit=r.eachLimit=function(l,p,v,E){return X(p)(l,Z(v),E)},r.forEachOf=r.eachOf=function(l,p,v){v=C(v||n);for(var g,E=H(l=l||[]),b=0;null!=(g=E());)b+=1,p(l[g],g,d(S));function S(N){b--,N?v(N):null===g&&b<=0&&v(null)}0===b&&v(null)},r.forEachOfSeries=r.eachOfSeries=function(l,p,v){v=C(v||n);var E=H(l=l||[]),g=E();!function b(){var S=!0;if(null===g)return v(null);p(l[g],g,d(function(N){if(N)v(N);else{if(null===(g=E()))return v(null);S?r.setImmediate(b):b()}})),S=!1}()},r.forEachOfLimit=r.eachOfLimit=function(l,p,v,E){X(p)(l,v,E)},r.map=j(J),r.mapSeries=L(J),r.mapLimit=M(J),r.inject=r.foldl=r.reduce=function(l,p,v,E){r.eachOfSeries(l,function(g,b,S){v(p,g,function(N,q){p=q,S(N)})},function(g){E(g,p)})},r.foldr=r.reduceRight=function(l,p,v,E){var g=D(l,u).reverse();r.reduce(g,p,v,E)},r.transform=function(l,p,v,E){3===arguments.length&&(E=v,v=p,p=y(l)?[]:{}),r.eachOf(l,function(g,b,S){v(p,g,b,S)},function(g){E(g,p)})},r.select=r.filter=j(Q),r.selectLimit=r.filterLimit=M(Q),r.selectSeries=r.filterSeries=L(Q),r.reject=j(Y),r.rejectLimit=M(Y),r.rejectSeries=L(Y),r.any=r.some=h(r.eachOf,o,u),r.someLimit=h(r.eachOfLimit,o,u),r.all=r.every=h(r.eachOf,i,i),r.everyLimit=h(r.eachOfLimit,i,i),r.detect=h(r.eachOf,u,F),r.detectSeries=h(r.eachOfSeries,u,F),r.detectLimit=h(r.eachOfLimit,u,F),r.sortBy=function(l,p,v){function E(g,b){var S=g.criteria,N=b.criteria;return S<N?-1:S>N?1:0}r.map(l,function(g,b){p(g,function(S,N){S?b(S):b(null,{value:g,criteria:N})})},function(g,b){if(g)return v(g);v(null,D(b.sort(E),function(S){return S.value}))})},r.auto=function(l,p,v){v||(v=p,p=null),v=C(v||n);var E=x(l),g=E.length;if(!g)return v(null);p||(p=g);var b={},S=0,N=[];function q(K){N.unshift(K)}function et(){g--,O(N.slice(0),function(K){K()})}q(function(){g||v(null,b)}),O(E,function(K){for(var ut,rt=y(l[K])?l[K]:[l[K]],lt=P(function(yt,Ct){if(S--,Ct.length<=1&&(Ct=Ct[0]),yt){var bt={};(function I(l,p){O(x(l),function(v){p(l[v],v)})})(b,function(Rt,It){bt[It]=Rt}),bt[K]=Ct,v(yt,bt)}else b[K]=Ct,r.setImmediate(et)}),mt=rt.slice(0,rt.length-1),vt=mt.length;vt--;){if(!(ut=l[mt[vt]]))throw new Error("Has inexistant dependency");if(y(ut)&&_(ut,K)>=0)throw new Error("Has cyclic dependencies")}function Bt(){return S<p&&function A(l,p,v){return O(l,function(E,g,b){v=p(v,E,g,b)}),v}(mt,function(yt,Ct){return yt&&b.hasOwnProperty(Ct)},!0)&&!b.hasOwnProperty(K)}Bt()?(S++,rt[rt.length-1](lt,b)):q(function At(){Bt()&&(S++,function G(K){var rt=_(N,K);rt>=0&&N.splice(rt,1)}(At),rt[rt.length-1](lt,b))})})},r.retry=function(l,p,v){var b=[],S={times:5,interval:0},q=arguments.length;if(q<1||q>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");function G(et,K){function rt(vt,ut){return function(Bt){vt(function(At,yt){Bt(!At||ut,{err:At,result:yt})},K)}}function lt(vt){return function(ut){setTimeout(function(){ut(null)},vt)}}for(;S.times;){var mt=!(S.times-=1);b.push(rt(S.task,mt)),!mt&&S.interval>0&&b.push(lt(S.interval))}r.series(b,function(vt,ut){(et||S.callback)((ut=ut[ut.length-1]).err,ut.result)})}return q<=2&&"function"==typeof l&&(v=p,p=l),"function"!=typeof l&&function N(et,K){if("number"==typeof K)et.times=parseInt(K,10)||5;else{if("object"!=typeof K)throw new Error("Unsupported argument type for 'times': "+typeof K);et.times=parseInt(K.times,10)||5,et.interval=parseInt(K.interval,10)||0}}(S,l),S.callback=v,S.task=p,S.callback?G():G},r.waterfall=function(l,p){if(p=C(p||n),!y(l)){var v=new Error("First argument to waterfall must be an array of functions");return p(v)}if(!l.length)return p();!function E(g){return P(function(b,S){if(b)p.apply(null,[b].concat(S));else{var N=g.next();S.push(N?E(N):p),wt(g).apply(null,S)}})}(r.iterator(l))()},r.parallel=function(l,p){z(r.eachOf,l,p)},r.parallelLimit=function(l,p,v){z(X(p),l,v)},r.series=function(l,p){z(r.eachOfSeries,l,p)},r.iterator=function(l){return function p(v){function E(){return l.length&&l[v].apply(null,arguments),E.next()}return E.next=function(){return v<l.length-1?p(v+1):null},E}(0)},r.apply=P(function(l,p){return P(function(v){return l.apply(null,p.concat(v))})}),r.concat=j($),r.concatSeries=L($),r.whilst=function(l,p,v){if(v=v||n,l()){var E=P(function(g,b){g?v(g):l.apply(this,b)?p(E):v(null)});p(E)}else v(null)},r.doWhilst=function(l,p,v){var E=0;return r.whilst(function(){return++E<=1||p.apply(this,arguments)},l,v)},r.until=function(l,p,v){return r.whilst(function(){return!l.apply(this,arguments)},p,v)},r.doUntil=function(l,p,v){return r.doWhilst(l,function(){return!p.apply(this,arguments)},v)},r.during=function(l,p,v){v=v||n;var E=P(function(b,S){b?v(b):(S.push(g),l.apply(this,S))}),g=function(b,S){b?v(b):S?p(E):v(null)};l(g)},r.doDuring=function(l,p,v){var E=0;r.during(function(g){E++<1?g(null,!0):p.apply(this,arguments)},l,v)},r.queue=function(l,p){return ot(function(E,g){l(E[0],g)},p,1)},r.priorityQueue=function(l,p){function v(S,N){return S.priority-N.priority}var b=r.queue(l,p);return b.push=function(S,N,q){!function g(S,N,q,G){if(null!=G&&"function"!=typeof G)throw new Error("task callback must be a function");if(S.started=!0,y(N)||(N=[N]),0===N.length)return r.setImmediate(function(){S.drain()});O(N,function(et){var K={data:et,priority:q,callback:"function"==typeof G?G:n};S.tasks.splice(function E(S,N,q){for(var G=-1,et=S.length-1;G<et;){var K=G+(et-G+1>>>1);q(N,S[K])>=0?G=K:et=K-1}return G}(S.tasks,K,v)+1,0,K),S.tasks.length===S.concurrency&&S.saturated(),r.setImmediate(S.process)})}(b,S,N,q)},delete b.unshift,b},r.cargo=function(l,p){return ot(l,1,p)},r.log=ct("log"),r.dir=ct("dir"),r.memoize=function(l,p){var v={},E={};p=p||u;var g=P(function(S){var N=S.pop(),q=p.apply(null,S);q in v?r.setImmediate(function(){N.apply(null,v[q])}):q in E?E[q].push(N):(E[q]=[N],l.apply(null,S.concat([P(function(G){v[q]=G;var et=E[q];delete E[q];for(var K=0,rt=et.length;K<rt;K++)et[K].apply(null,G)})])))});return g.memo=v,g.unmemoized=l,g},r.unmemoize=function(l){return function(){return(l.unmemoized||l).apply(null,arguments)}},r.times=Ft(r.map),r.timesSeries=Ft(r.mapSeries),r.timesLimit=function(l,p,v,E){return r.mapLimit(R(l),p,v,E)},r.seq=function(){var l=arguments;return P(function(p){var v=this,E=p[p.length-1];"function"==typeof E?p.pop():E=n,r.reduce(l,p,function(g,b,S){b.apply(v,g.concat([P(function(N,q){S(N,q)})]))},function(g,b){E.apply(v,[g].concat(b))})})},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))},r.applyEach=Tt(r.eachOf),r.applyEachSeries=Tt(r.eachOfSeries),r.forever=function(l,p){var v=d(p||n),E=wt(l);!function g(b){if(b)return v(b);E(g)}()},r.ensureAsync=wt,r.constant=P(function(l){var p=[null].concat(l);return function(v){return v.apply(this,p)}}),r.wrapSync=r.asyncify=function(p){return P(function(v){var g,E=v.pop();try{g=p.apply(this,v)}catch(b){return E(b)}!function(l){var p=typeof l;return"function"===p||"object"===p&&!!l}(g)||"function"!=typeof g.then?E(null,g):g.then(function(b){E(null,b)}).catch(function(b){E(b.message?b:new Error(b))})})},"object"==typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define("async",function(){return r}):m.async=r})(),function(r){"use strict";"function"==typeof define&&define.amd?define("sha1",[],r):window.sha1=r()}(function(){return function(){var n="0123456789abcdef";function u(I){for(var _="",x=7;x>=0;x--)_+=n.charAt(I>>4*x&15);return _}function f(I,_,x){for(var H=1+(x+8>>6),P=new Array(16*H),Z=0;Z<16*H;Z++)P[Z]=0;for(Z=0;Z<x;Z++)P[Z>>2]|=(255&I[_+Z])<<24-Z%4*8;return P[Z>>2]|=128<<24-Z%4*8,P[16*H-1]=8*x,P}function m(I,_){var x=(65535&I)+(65535&_);return(I>>16)+(_>>16)+(x>>16)<<16|65535&x}function d(I,_){return I<<_|I>>>32-_}function C(I,_,x,H){return I<20?_&x|~_&H:I<40?_^x^H:I<60?_&x|_&H|x&H:_^x^H}function B(I){return I<20?1518500249:I<40?1859775393:I<60?-1894007588:-899497514}function D(I){var _=function R(I){for(var _=new Array(80),x=1732584193,H=-271733879,P=-1732584194,Z=271733878,nt=-1009589776,tt=0;tt<I.length;tt+=16){for(var X=x,j=H,M=P,L=Z,J=nt,Q=0;Q<80;Q++){var Y;_[Q]=Q<16?I[tt+Q]:d(_[Q-3]^_[Q-8]^_[Q-14]^_[Q-16],1),Y=m(m(d(x,5),C(Q,H,P,Z)),m(m(nt,_[Q]),B(Q))),nt=Z,Z=P,P=d(H,30),H=x,x=Y}x=m(x,X),H=m(H,j),P=m(P,M),Z=m(Z,L),nt=m(nt,J)}return new Array(x,H,P,Z,nt)}(I);return u(_[0])+u(_[1])+u(_[2])+u(_[3])+u(_[4])}return{calcSHA1:function y(I){return D(function o(I){for(var _=1+(I.length+8>>6),x=new Array(16*_),H=0;H<16*_;H++)x[H]=0;for(H=0;H<I.length;H++)x[H>>2]|=I.charCodeAt(H)<<24-H%4*8;return x[H>>2]|=128<<24-H%4*8,x[16*_-1]=8*I.length,x}(I))},calcSHA1Hex:function k(I){return D(function i(I){for(var _=I.length+1>>1,x=1+(_+8>>6),H=new Array(16*x),P=0;P<16*x;P++)H[P]=0;for(P=0;P<_;P++)H[P>>2]|=parseInt(I.substr(2*P,2),16)<<24-P%4*8;return H[P>>2]|=128<<24-P%4*8,H[16*x-1]=8*_,H}(I))},calcSHA1BA:function U(I){return D(f(I,0,I.length))},calcSHA1BAEx:function O(I,_,x){return D(f(I,_,x))}}}()}),function(r){"use strict";"function"==typeof define&&define.amd?define("sjcl",[],r):window.sjcl=r()}(function(){"use strict";var r={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(n){this.toString=function(){return"CORRUPT: "+this.message},this.message=n},invalid:function(n){this.toString=function(){return"INVALID: "+this.message},this.message=n},bug:function(n){this.toString=function(){return"BUG: "+this.message},this.message=n},notReady:function(n){this.toString=function(){return"NOT READY: "+this.message},this.message=n}}};return r.bitArray={bitSlice:function(n,u,o){return n=r.bitArray._shiftRight(n.slice(u/32),32-(31&u)).slice(1),void 0===o?n:r.bitArray.clamp(n,o-u)},extract:function(n,u,o){var f=Math.floor(-u-o&31);return(-32&(u+o-1^u)?n[u/32|0]<<32-f^n[u/32+1|0]>>>f:n[u/32|0]>>>f)&(1<<o)-1},concat:function(n,u){if(0===n.length||0===u.length)return n.concat(u);var o=n[n.length-1],i=r.bitArray.getPartial(o);return 32===i?n.concat(u):r.bitArray._shiftRight(u,i,0|o,n.slice(0,n.length-1))},bitLength:function(n){var u=n.length;return 0===u?0:32*(u-1)+r.bitArray.getPartial(n[u-1])},clamp:function(n,u){if(32*n.length<u)return n;var o=(n=n.slice(0,Math.ceil(u/32))).length;return u&=31,o>0&&u&&(n[o-1]=r.bitArray.partial(u,n[o-1]&2147483648>>u-1,1)),n},partial:function(n,u,o){return 32===n?u:(o?0|u:u<<32-n)+1099511627776*n},getPartial:function(n){return Math.round(n/1099511627776)||32},equal:function(n,u){if(r.bitArray.bitLength(n)!==r.bitArray.bitLength(u))return!1;var i,o=0;for(i=0;i<n.length;i++)o|=n[i]^u[i];return 0===o},_shiftRight:function(n,u,o,i){var f,d;for(void 0===i&&(i=[]);u>=32;u-=32)i.push(o),o=0;if(0===u)return i.concat(n);for(f=0;f<n.length;f++)i.push(o|n[f]>>>u),o=n[f]<<32-u;return d=r.bitArray.getPartial(n.length?n[n.length-1]:0),i.push(r.bitArray.partial(u+d&31,u+d>32?o:i.pop(),1)),i},_xor4:function(n,u){return[n[0]^u[0],n[1]^u[1],n[2]^u[2],n[3]^u[3]]},byteswapM:function(n){var u,o;for(u=0;u<n.length;++u)n[u]=(o=n[u])>>>24|o>>>8&65280|(65280&o)<<8|o<<24;return n}},r.hash.sha256=function(n){this._key[0]||this._precompute(),n?(this._h=n._h.slice(0),this._buffer=n._buffer.slice(0),this._length=n._length):this.reset()},r.hash.sha256.hash=function(n){return(new r.hash.sha256).update(n).finalize()},r.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(n){"string"==typeof n&&(n=r.codec.utf8String.toBits(n));var u,o=this._buffer=r.bitArray.concat(this._buffer,n),i=this._length,f=this._length=i+r.bitArray.bitLength(n);for(u=512+i&-512;u<=f;u+=512)this._block(o.splice(0,16));return this},finalize:function(){var n,u=this._buffer,o=this._h;for(n=(u=r.bitArray.concat(u,[r.bitArray.partial(1,1)])).length+2;15&n;n++)u.push(0);for(u.push(Math.floor(this._length/4294967296)),u.push(0|this._length);u.length;)this._block(u.splice(0,16));return this.reset(),o},_init:[],_key:[],_precompute:function(){var o,n=0,u=2;function i(f){return 4294967296*(f-Math.floor(f))|0}t:for(;n<64;u++){for(o=2;o*o<=u;o++)if(u%o==0)continue t;n<8&&(this._init[n]=i(Math.pow(u,.5))),this._key[n]=i(Math.pow(u,1/3)),n++}},_block:function(n){var u,o,i,f,m=n.slice(0),d=this._h,C=this._key,B=d[0],y=d[1],k=d[2],U=d[3],O=d[4],D=d[5],R=d[6],A=d[7];for(u=0;u<64;u++)o=(o=u<16?m[u]:m[15&u]=((i=m[u+1&15])>>>7^i>>>18^i>>>3^i<<25^i<<14)+((f=m[u+14&15])>>>17^f>>>19^f>>>10^f<<15^f<<13)+m[15&u]+m[u+9&15]|0)+A+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(R^O&(D^R))+C[u],A=R,R=D,D=O,O=U+o|0,U=k,k=y,B=o+((y=B)&k^U&(y^k))+(y>>>2^y>>>13^y>>>22^y<<30^y<<19^y<<10)|0;d[0]=d[0]+B|0,d[1]=d[1]+y|0,d[2]=d[2]+k|0,d[3]=d[3]+U|0,d[4]=d[4]+O|0,d[5]=d[5]+D|0,d[6]=d[6]+R|0,d[7]=d[7]+A|0}},r.cipher.aes=function(n){this._tables[0][0][0]||this._precompute();var u,o,i,f,m,d=this._tables[0][4],C=this._tables[1],B=n.length,y=1;if(4!==B&&6!==B&&8!==B)throw new r.exception.invalid("invalid aes key size");for(this._key=[f=n.slice(0),m=[]],u=B;u<4*B+28;u++)i=f[u-1],(u%B==0||8===B&&u%B==4)&&(i=d[i>>>24]<<24^d[i>>16&255]<<16^d[i>>8&255]<<8^d[255&i],u%B==0&&(i=i<<8^i>>>24^y<<24,y=y<<1^283*(y>>7))),f[u]=f[u-B]^i;for(o=0;u;o++,u--)i=f[3&o?u:u-4],m[o]=u<=4||o<4?i:C[0][d[i>>>24]]^C[1][d[i>>16&255]]^C[2][d[i>>8&255]]^C[3][d[255&i]]},r.cipher.aes.prototype={encrypt:function(n){return this._crypt(n,0)},decrypt:function(n){return this._crypt(n,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var f,m,d,y,k,O,D,R,n=this._tables[0],u=this._tables[1],o=n[4],i=u[4],C=[],B=[];for(f=0;f<256;f++)B[(C[f]=f<<1^283*(f>>7))^f]=f;for(m=d=0;!o[m];m^=y||1,d=B[d]||1)for(o[m]=O=(O=d^d<<1^d<<2^d<<3^d<<4)>>8^255&O^99,i[O]=m,R=16843009*C[k=C[y=C[m]]]^65537*k^257*y^16843008*m,D=257*C[O]^16843008*O,f=0;f<4;f++)n[f][m]=D=D<<24^D>>>8,u[f][O]=R=R<<24^R>>>8;for(f=0;f<5;f++)n[f]=n[f].slice(0),u[f]=u[f].slice(0)},_crypt:function(n,u){if(4!==n.length)throw new r.exception.invalid("invalid aes block size");var C,B,y,U,o=this._key[u],i=n[0]^o[0],f=n[u?3:1]^o[1],m=n[2]^o[2],d=n[u?1:3]^o[3],k=o.length/4-2,O=4,D=[0,0,0,0],R=this._tables[u],A=R[0],I=R[1],_=R[2],x=R[3],H=R[4];for(U=0;U<k;U++)C=A[i>>>24]^I[f>>16&255]^_[m>>8&255]^x[255&d]^o[O],B=A[f>>>24]^I[m>>16&255]^_[d>>8&255]^x[255&i]^o[O+1],y=A[m>>>24]^I[d>>16&255]^_[i>>8&255]^x[255&f]^o[O+2],d=A[d>>>24]^I[i>>16&255]^_[f>>8&255]^x[255&m]^o[O+3],O+=4,i=C,f=B,m=y;for(U=0;U<4;U++)D[u?3&-U:U]=H[i>>>24]<<24^H[f>>16&255]<<16^H[m>>8&255]<<8^H[255&d]^o[O++],C=i,i=f,f=m,m=d,d=C;return D}},r.prng=function(n){this._pools=[new r.hash.sha256],this._poolEntropy=[0],this._reseedCount=0,this._robins={},this._eventId=0,this._collectorIds={},this._collectorIdNext=0,this._strength=0,this._poolStrength=0,this._nextReseed=0,this._key=[0,0,0,0,0,0,0,0],this._counter=[0,0,0,0],this._cipher=void 0,this._defaultParanoia=n,this._collectorsStarted=!1,this._callbacks={progress:{},seeded:{}},this._callbackI=0,this._NOT_READY=0,this._READY=1,this._REQUIRES_RESEED=2,this._MAX_WORDS_PER_BURST=65536,this._PARANOIA_LEVELS=[0,48,64,96,128,192,256,384,512,768,1024],this._MILLISECONDS_PER_RESEED=3e4,this._BITS_PER_RESEED=80},r.prng.prototype={randomWords:function(n,u){var i,m,o=[],f=this.isReady(u);if(f===this._NOT_READY)throw new r.exception.notReady("generator isn't seeded");for(f&this._REQUIRES_RESEED&&this._reseedFromPools(!(f&this._READY)),i=0;i<n;i+=4)(i+1)%this._MAX_WORDS_PER_BURST==0&&this._gate(),m=this._gen4words(),o.push(m[0],m[1],m[2],m[3]);return this._gate(),o.slice(0,n)},setDefaultParanoia:function(n,u){if(0===n&&"Setting paranoia=0 will ruin your security; use it only for testing"!==u)throw"Setting paranoia=0 will ruin your security; use it only for testing";this._defaultParanoia=n},addEntropy:function(n,u,o){o=o||"user";var i,f,m,k,d=(new Date).valueOf(),C=this._robins[o],B=this.isReady(),y=0;switch(void 0===(i=this._collectorIds[o])&&(i=this._collectorIds[o]=this._collectorIdNext++),void 0===C&&(C=this._robins[o]=0),this._robins[o]=(this._robins[o]+1)%this._pools.length,typeof n){case"number":void 0===u&&(u=1),this._pools[C].update([i,this._eventId++,1,u,d,1,0|n]);break;case"object":if("[object Uint32Array]"===(k=Object.prototype.toString.call(n))){for(m=[],f=0;f<n.length;f++)m.push(n[f]);n=m}else for("[object Array]"!==k&&(y=1),f=0;f<n.length&&!y;f++)"number"!=typeof n[f]&&(y=1);if(!y){if(void 0===u)for(u=0,f=0;f<n.length;f++)for(m=n[f];m>0;)u++,m>>>=1;this._pools[C].update([i,this._eventId++,2,u,d,n.length].concat(n))}break;case"string":void 0===u&&(u=n.length),this._pools[C].update([i,this._eventId++,3,u,d,n.length]),this._pools[C].update(n);break;default:y=1}if(y)throw new r.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[C]+=u,this._poolStrength+=u,B===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(n){var u=this._PARANOIA_LEVELS[void 0!==n?n:this._defaultParanoia];return this._strength&&this._strength>=u?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=u?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(n){var u=this._PARANOIA_LEVELS[n||this._defaultParanoia];return this._strength>=u||this._poolStrength>u?1:this._poolStrength/u},startCollectors:function(){if(!this._collectorsStarted){if(this._eventListener={loadTimeCollector:this._bind(this._loadTimeCollector),mouseCollector:this._bind(this._mouseCollector),keyboardCollector:this._bind(this._keyboardCollector),accelerometerCollector:this._bind(this._accelerometerCollector),touchCollector:this._bind(this._touchCollector)},window.addEventListener)window.addEventListener("load",this._eventListener.loadTimeCollector,!1),window.addEventListener("keypress",this._eventListener.keyboardCollector,!1);else{if(!document.attachEvent)throw new r.exception.bug("can't attach event");document.attachEvent("onload",this._eventListener.loadTimeCollector),document.attachEvent("keypress",this._eventListener.keyboardCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._eventListener.loadTimeCollector,!1),window.removeEventListener("keypress",this._eventListener.keyboardCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this._eventListener.loadTimeCollector),document.detachEvent("keypress",this._eventListener.keyboardCollector)),this._collectorsStarted=!1)},addEventListener:function(n,u){this._callbacks[n][this._callbackI++]=u},removeEventListener:function(n,u){var o,i,f=this._callbacks[n],m=[];for(i in f)f.hasOwnProperty(i)&&f[i]===u&&m.push(i);for(o=0;o<m.length;o++)delete f[i=m[o]]},_bind:function(n){var u=this;return function(){n.apply(u,arguments)}},_gen4words:function(){for(var n=0;n<4&&(this._counter[n]=this._counter[n]+1|0,!this._counter[n]);n++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new r.cipher.aes(this._key)},_reseed:function(n){this._key=r.hash.sha256.hash(this._key.concat(n)),this._cipher=new r.cipher.aes(this._key);for(var u=0;u<4&&(this._counter[u]=this._counter[u]+1|0,!this._counter[u]);u++);},_reseedFromPools:function(n){var i,u=[],o=0;for(this._nextReseed=u[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,i=0;i<16;i++)u.push(4294967296*Math.random()|0);for(i=0;i<this._pools.length&&(u=u.concat(this._pools[i].finalize()),o+=this._poolEntropy[i],this._poolEntropy[i]=0,n||!(this._reseedCount&1<<i));i++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new r.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=o,o>this._strength&&(this._strength=o),this._reseedCount++,this._reseed(u)},_keyboardCollector:function(){this._addCurrentTimeToEntropy(1)},_mouseCollector:function(n){var u,o;try{u=n.x||n.clientX||n.offsetX||0,o=n.y||n.clientY||n.offsetY||0}catch{u=0,o=0}0!=u&&0!=o&&r.random.addEntropy([u,o],2,"mouse"),this._addCurrentTimeToEntropy(0)},_touchCollector:function(n){var u=n.touches[0]||n.changedTouches[0];r.random.addEntropy([u.pageX||u.clientX,u.pageY||u.clientY],1,"touch"),this._addCurrentTimeToEntropy(0)},_loadTimeCollector:function(){this._addCurrentTimeToEntropy(2)},_addCurrentTimeToEntropy:function(n){typeof window<"u"&&window.performance&&"function"==typeof window.performance.now?r.random.addEntropy(window.performance.now(),n,"loadtime"):r.random.addEntropy((new Date).valueOf(),n,"loadtime")},_accelerometerCollector:function(n){var u=n.accelerationIncludingGravity.x||n.accelerationIncludingGravity.y||n.accelerationIncludingGravity.z;if(window.orientation){var o=window.orientation;"number"==typeof o&&r.random.addEntropy(o,1,"accelerometer")}u&&r.random.addEntropy(u,2,"accelerometer"),this._addCurrentTimeToEntropy(0)},_fireEvent:function(n,u){var o,i=r.random._callbacks[n],f=[];for(o in i)i.hasOwnProperty(o)&&f.push(i[o]);for(o=0;o<f.length;o++)f[o](u)}},r.random=new r.prng(6),function(){try{var u,o,i;if(typeof module<"u"&&module.exports&&(o=function n(){try{return require("crypto")}catch{return null}}())&&o.randomBytes)u=o.randomBytes(128),u=new Uint32Array(new Uint8Array(u).buffer),r.random.addEntropy(u,1024,"crypto.randomBytes");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(i=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(i);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)return;window.msCrypto.getRandomValues(i)}r.random.addEntropy(i,1024,"crypto.getRandomValues")}}catch(f){typeof window<"u"&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(f))}}(),r.codec.hex={fromBits:function(n){var o,u="";for(o=0;o<n.length;o++)u+=(0xf00000000000+(0|n[o])).toString(16).substr(4);return u.substr(0,r.bitArray.bitLength(n)/4)},toBits:function(n){var u,i,o=[];for(i=(n=n.replace(/\s|0x/g,"")).length,n+="00000000",u=0;u<n.length;u+=8)o.push(0^parseInt(n.substr(u,8),16));return r.bitArray.clamp(o,4*i)}},r.codec.utf8String={fromBits:function(n){var i,f,u="",o=r.bitArray.bitLength(n);for(i=0;i<o/8;i++)3&i||(f=n[i/4]),u+=String.fromCharCode(f>>>24),f<<=8;return decodeURIComponent(escape(u))},toBits:function(n){n=unescape(encodeURIComponent(n));var o,u=[],i=0;for(o=0;o<n.length;o++)i=i<<8|n.charCodeAt(o),3==(3&o)&&(u.push(i),i=0);return 3&o&&u.push(r.bitArray.partial(8*(3&o),i)),u}},r.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(n,u,o){var f,i="",m=0,d=r.codec.base64._chars,C=0,B=r.bitArray.bitLength(n);for(o&&(d=d.substr(0,62)+"-_"),f=0;6*i.length<B;)i+=d.charAt((C^n[f]>>>m)>>>26),m<6?(C=n[f]<<6-m,m+=26,f++):(C<<=6,m-=6);for(;3&i.length&&!u;)i+="=";return i},toBits:function(n,u){n=n.replace(/\s|=/g,"");var i,C,o=[],f=0,m=r.codec.base64._chars,d=0;for(u&&(m=m.substr(0,62)+"-_"),i=0;i<n.length;i++){if((C=m.indexOf(n.charAt(i)))<0)throw new r.exception.invalid("this isn't base64!");f>26?(o.push(d^C>>>(f-=26)),d=C<<32-f):d^=C<<32-(f+=6)}return 56&f&&o.push(r.bitArray.partial(56&f,d,1)),o}},r.codec.base64url={fromBits:function(n){return r.codec.base64.fromBits(n,1,1)},toBits:function(n){return r.codec.base64.toBits(n,1)}},r}),function(r){"use strict";"function"==typeof define&&define.amd?define("BigInteger",[],r):window.BigInteger=r()}(function(){var r;function o(t,e,s){null!=t&&("number"==typeof t?this.fromNumber(t,e,s):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function i(){return new o(null)}"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function m(t,e,s,c,w,T){for(var W=32767&e,V=e>>15;--T>=0;){var it=32767&this[t],st=this[t++]>>15,ht=V*it+st*W;w=((it=W*it+((32767&ht)<<15)+s[c]+(1073741823&w))>>>30)+(ht>>>15)+V*st+(w>>>30),s[c++]=1073741823&it}return w},r=30):"Netscape"!=navigator.appName?(o.prototype.am=function f(t,e,s,c,w,T){for(;--T>=0;){var W=e*this[t++]+s[c]+w;w=Math.floor(W/67108864),s[c++]=67108863&W}return w},r=26):(o.prototype.am=function d(t,e,s,c,w,T){for(var W=16383&e,V=e>>14;--T>=0;){var it=16383&this[t],st=this[t++]>>14,ht=V*it+st*W;w=((it=W*it+((16383&ht)<<14)+s[c]+w)>>28)+(ht>>14)+V*st,s[c++]=268435455&it}return w},r=28),o.prototype.DB=r,o.prototype.DM=(1<<r)-1,o.prototype.DV=1<<r,o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-r,o.prototype.F2=2*r-52;var k,U,y=new Array;for(k="0".charCodeAt(0),U=0;U<=9;++U)y[k++]=U;for(k="a".charCodeAt(0),U=10;U<36;++U)y[k++]=U;for(k="A".charCodeAt(0),U=10;U<36;++U)y[k++]=U;function O(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function D(t,e){return y[t.charCodeAt(e)]??-1}function I(t){var e=i();return e.fromInt(t),e}function tt(t){var s,e=1;return 0!=(s=t>>>16)&&(t=s,e+=16),0!=(s=t>>8)&&(t=s,e+=8),0!=(s=t>>4)&&(t=s,e+=4),0!=(s=t>>2)&&(t=s,e+=2),0!=(s=t>>1)&&(t=s,e+=1),e}function $(t){this.m=t}function p(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Pt(t,e){return t&e}function xt(t,e){return t|e}function Nt(t,e){return t^e}function Mt(t,e){return t&~e}function zt(t){if(0==t)return-1;var e=0;return 65535&t||(t>>=16,e+=16),255&t||(t>>=8,e+=8),15&t||(t>>=4,e+=4),3&t||(t>>=2,e+=2),1&t||++e,e}function Kt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function St(){}function Lt(t){return t}function gt(t){this.r2=i(),this.q3=i(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}$.prototype.convert=function ot(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},$.prototype.revert=function ct(t){return t},$.prototype.reduce=function Ft(t){t.divRemTo(this.m,null,t)},$.prototype.mulTo=function Tt(t,e,s){t.multiplyTo(e,s),this.reduce(s)},$.prototype.sqrTo=function wt(t,e){t.squareTo(e),this.reduce(e)},p.prototype.convert=function v(t){var e=i();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e},p.prototype.revert=function E(t){var e=i();return t.copyTo(e),this.reduce(e),e},p.prototype.reduce=function g(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var s=32767&t[e],c=s*this.mpl+((s*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[s=e+this.m.t]+=this.m.am(0,c,t,e,0,this.m.t);t[s]>=t.DV;)t[s]-=t.DV,t[++s]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},p.prototype.mulTo=function S(t,e,s){t.multiplyTo(e,s),this.reduce(s)},p.prototype.sqrTo=function b(t,e){t.squareTo(e),this.reduce(e)},o.prototype.copyTo=function R(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},o.prototype.fromInt=function A(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0},o.prototype.fromString=function _(t,e){var s;if(16==e)s=4;else if(8==e)s=3;else if(256==e)s=8;else if(2==e)s=1;else if(32==e)s=5;else{if(4!=e)return void this.fromRadix(t,e);s=2}this.t=0,this.s=0;for(var c=t.length,w=!1,T=0;--c>=0;){var W=8==s?255&t[c]:D(t,c);W<0?"-"==t.charAt(c)&&(w=!0):(w=!1,0==T?this[this.t++]=W:T+s>this.DB?(this[this.t-1]|=(W&(1<<this.DB-T)-1)<<T,this[this.t++]=W>>this.DB-T):this[this.t-1]|=W<<T,(T+=s)>=this.DB&&(T-=this.DB))}8==s&&128&t[0]&&(this.s=-1,T>0&&(this[this.t-1]|=(1<<this.DB-T)-1<<T)),this.clamp(),w&&o.ZERO.subTo(this,this)},o.prototype.clamp=function x(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},o.prototype.dlShiftTo=function j(t,e){var s;for(s=this.t-1;s>=0;--s)e[s+t]=this[s];for(s=t-1;s>=0;--s)e[s]=0;e.t=this.t+t,e.s=this.s},o.prototype.drShiftTo=function M(t,e){for(var s=t;s<this.t;++s)e[s-t]=this[s];e.t=Math.max(this.t-t,0),e.s=this.s},o.prototype.lShiftTo=function L(t,e){var V,s=t%this.DB,c=this.DB-s,w=(1<<c)-1,T=Math.floor(t/this.DB),W=this.s<<s&this.DM;for(V=this.t-1;V>=0;--V)e[V+T+1]=this[V]>>c|W,W=(this[V]&w)<<s;for(V=T-1;V>=0;--V)e[V]=0;e[T]=W,e.t=this.t+T+1,e.s=this.s,e.clamp()},o.prototype.rShiftTo=function J(t,e){e.s=this.s;var s=Math.floor(t/this.DB);if(s>=this.t)e.t=0;else{var c=t%this.DB,w=this.DB-c,T=(1<<c)-1;e[0]=this[s]>>c;for(var W=s+1;W<this.t;++W)e[W-s-1]|=(this[W]&T)<<w,e[W-s]=this[W]>>c;c>0&&(e[this.t-s-1]|=(this.s&T)<<w),e.t=this.t-s,e.clamp()}},o.prototype.subTo=function Q(t,e){for(var s=0,c=0,w=Math.min(t.t,this.t);s<w;)c+=this[s]-t[s],e[s++]=c&this.DM,c>>=this.DB;if(t.t<this.t){for(c-=t.s;s<this.t;)c+=this[s],e[s++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;s<t.t;)c-=t[s],e[s++]=c&this.DM,c>>=this.DB;c-=t.s}e.s=c<0?-1:0,c<-1?e[s++]=this.DV+c:c>0&&(e[s++]=c),e.t=s,e.clamp()},o.prototype.multiplyTo=function Y(t,e){var s=this.abs(),c=t.abs(),w=s.t;for(e.t=w+c.t;--w>=0;)e[w]=0;for(w=0;w<c.t;++w)e[w+s.t]=s.am(0,c[w],e,w,0,s.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)},o.prototype.squareTo=function h(t){for(var e=this.abs(),s=t.t=2*e.t;--s>=0;)t[s]=0;for(s=0;s<e.t-1;++s){var c=e.am(s,e[s],t,2*s,0,1);(t[s+e.t]+=e.am(s+1,2*e[s],t,2*s+1,c,e.t-s-1))>=e.DV&&(t[s+e.t]-=e.DV,t[s+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(s,e[s],t,2*s,0,1)),t.s=0,t.clamp()},o.prototype.divRemTo=function F(t,e,s){var c=t.abs();if(!(c.t<=0)){var w=this.abs();if(w.t<c.t)return e?.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var T=i(),W=this.s,V=t.s,it=this.DB-tt(c[c.t-1]);it>0?(c.lShiftTo(it,T),w.lShiftTo(it,s)):(c.copyTo(T),w.copyTo(s));var st=T.t,ht=T[st-1];if(0!=ht){var ft=ht*(1<<this.F1)+(st>1?T[st-2]>>this.F2:0),Et=this.FV/ft,_t=(1<<this.F1)/ft,pt=1<<this.F2,dt=s.t,kt=dt-st,Dt=e??i();for(T.dlShiftTo(kt,Dt),s.compareTo(Dt)>=0&&(s[s.t++]=1,s.subTo(Dt,s)),o.ONE.dlShiftTo(st,Dt),Dt.subTo(T,T);T.t<st;)T[T.t++]=0;for(;--kt>=0;){var Ot=s[--dt]==ht?this.DM:Math.floor(s[dt]*Et+(s[dt-1]+pt)*_t);if((s[dt]+=T.am(0,Ot,s,kt,0,st))<Ot)for(T.dlShiftTo(kt,Dt),s.subTo(Dt,s);s[dt]<--Ot;)s.subTo(Dt,s)}null!=e&&(s.drShiftTo(st,e),W!=V&&o.ZERO.subTo(e,e)),s.t=st,s.clamp(),it>0&&s.rShiftTo(it,s),W<0&&o.ZERO.subTo(s,s)}}},o.prototype.invDigit=function l(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},o.prototype.isEven=function N(){return 0==(this.t>0?1&this[0]:this.s)},o.prototype.exp=function q(t,e){if(t>4294967295||t<1)return o.ONE;var s=i(),c=i(),w=e.convert(this),T=tt(t)-1;for(w.copyTo(s);--T>=0;)if(e.sqrTo(s,c),(t&1<<T)>0)e.mulTo(c,w,s);else{var W=s;s=c,c=W}return e.revert(s)},o.prototype.toString=function H(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var c,s=(1<<e)-1,w=!1,T="",W=this.t,V=this.DB-W*this.DB%e;if(W-- >0)for(V<this.DB&&(c=this[W]>>V)>0&&(w=!0,T=O(c));W>=0;)V<e?(c=(this[W]&(1<<V)-1)<<e-V,c|=this[--W]>>(V+=this.DB-e)):(c=this[W]>>(V-=e)&s,V<=0&&(V+=this.DB,--W)),c>0&&(w=!0),w&&(T+=O(c));return w?T:"0"},o.prototype.negate=function P(){var t=i();return o.ZERO.subTo(this,t),t},o.prototype.abs=function Z(){return this.s<0?this.negate():this},o.prototype.compareTo=function nt(t){var e=this.s-t.s;if(0!=e)return e;var s=this.t;if(0!=(e=s-t.t))return this.s<0?-e:e;for(;--s>=0;)if(0!=(e=this[s]-t[s]))return e;return 0},o.prototype.bitLength=function X(){return this.t<=0?0:this.DB*(this.t-1)+tt(this[this.t-1]^this.s&this.DM)},o.prototype.mod=function z(t){var e=i();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e},o.prototype.modPowInt=function G(t,e){var s;return s=t<256||e.isEven()?new $(e):new p(e),this.exp(t,s)},o.ZERO=I(0),o.ONE=I(1),St.prototype.convert=Lt,St.prototype.revert=Lt,St.prototype.mulTo=function ce(t,e,s){t.multiplyTo(e,s)},St.prototype.sqrTo=function le(t,e){t.squareTo(e)},gt.prototype.convert=function ve(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=i();return t.copyTo(e),this.reduce(e),e},gt.prototype.revert=function Ce(t){return t},gt.prototype.reduce=function Ee(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},gt.prototype.mulTo=function De(t,e,s){t.multiplyTo(e,s),this.reduce(s)},gt.prototype.sqrTo=function ye(t,e){t.squareTo(e),this.reduce(e)};var at=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],we=(1<<26)/at[at.length-1];return o.prototype.chunkSize=function mt(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},o.prototype.toRadix=function ut(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),s=Math.pow(t,e),c=I(s),w=i(),T=i(),W="";for(this.divRemTo(c,w,T);w.signum()>0;)W=(s+T.intValue()).toString(t).substr(1)+W,w.divRemTo(c,w,T);return T.intValue().toString(t)+W},o.prototype.fromRadix=function Bt(t,e){this.fromInt(0),null==e&&(e=10);for(var s=this.chunkSize(e),c=Math.pow(e,s),w=!1,T=0,W=0,V=0;V<t.length;++V){var it=D(t,V);it<0?"-"==t.charAt(V)&&0==this.signum()&&(w=!0):(W=e*W+it,++T>=s&&(this.dMultiply(c),this.dAddOffset(W,0),T=0,W=0))}T>0&&(this.dMultiply(Math.pow(e,T)),this.dAddOffset(W,0)),w&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function At(t,e,s){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,s),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),xt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var c=new Array,w=7&t;c.length=1+(t>>3),e.nextBytes(c),w>0?c[0]&=(1<<w)-1:c[0]=0,this.fromString(c,256)}},o.prototype.bitwiseTo=function It(t,e,s){var c,w,T=Math.min(t.t,this.t);for(c=0;c<T;++c)s[c]=e(this[c],t[c]);if(t.t<this.t){for(w=t.s&this.DM,c=T;c<this.t;++c)s[c]=e(this[c],w);s.t=this.t}else{for(w=this.s&this.DM,c=T;c<t.t;++c)s[c]=e(w,t[c]);s.t=t.t}s.s=e(this.s,t.s),s.clamp()},o.prototype.changeBit=function Xt(t,e){var s=o.ONE.shiftLeft(t);return this.bitwiseTo(s,e,s),s},o.prototype.addTo=function ee(t,e){for(var s=0,c=0,w=Math.min(t.t,this.t);s<w;)c+=this[s]+t[s],e[s++]=c&this.DM,c>>=this.DB;if(t.t<this.t){for(c+=t.s;s<this.t;)c+=this[s],e[s++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;s<t.t;)c+=t[s],e[s++]=c&this.DM,c>>=this.DB;c+=t.s}e.s=c<0?-1:0,c>0?e[s++]=c:c<-1&&(e[s++]=this.DV+c),e.t=s,e.clamp()},o.prototype.dMultiply=function fe(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function he(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},o.prototype.multiplyLowerTo=function de(t,e,s){var w,c=Math.min(this.t+t.t,e);for(s.s=0,s.t=c;c>0;)s[--c]=0;for(w=s.t-this.t;c<w;++c)s[c+this.t]=this.am(0,t[c],s,c,0,this.t);for(w=Math.min(t.t,e);c<w;++c)this.am(0,t[c],s,c,0,e-c);s.clamp()},o.prototype.multiplyUpperTo=function me(t,e,s){--e;var c=s.t=this.t+t.t-e;for(s.s=0;--c>=0;)s[c]=0;for(c=Math.max(e-this.t,0);c<t.t;++c)s[this.t+c-e]=this.am(e-c,t[c],s,0,0,this.t+c-e);s.clamp(),s.drShiftTo(1,s)},o.prototype.modInt=function ge(t){if(t<=0)return 0;var e=this.DV%t,s=this.s<0?t-1:0;if(this.t>0)if(0==e)s=this[0]%t;else for(var c=this.t-1;c>=0;--c)s=(e*s+this[c])%t;return s},o.prototype.millerRabin=function Se(t){var e=this.subtract(o.ONE),s=e.getLowestSetBit();if(s<=0)return!1;var c=e.shiftRight(s);(t=t+1>>1)>at.length&&(t=at.length);for(var w=i(),T=0;T<t;++T){w.fromInt(at[Math.floor(Math.random()*at.length)]);var W=w.modPow(c,this);if(0!=W.compareTo(o.ONE)&&0!=W.compareTo(e)){for(var V=1;V++<s&&0!=W.compareTo(e);)if(0==(W=W.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=W.compareTo(e))return!1}}return!0},o.prototype.clone=function et(){var t=i();return this.copyTo(t),t},o.prototype.intValue=function K(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},o.prototype.byteValue=function rt(){return 0==this.t?this.s:this[0]<<24>>24},o.prototype.shortValue=function lt(){return 0==this.t?this.s:this[0]<<16>>16},o.prototype.signum=function vt(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},o.prototype.toByteArray=function yt(){var t=this.t,e=new Array;e[0]=this.s;var c,s=this.DB-t*this.DB%8,w=0;if(t-- >0)for(s<this.DB&&(c=this[t]>>s)!=(this.s&this.DM)>>s&&(e[w++]=c|this.s<<this.DB-s);t>=0;)s<8?(c=(this[t]&(1<<s)-1)<<8-s,c|=this[--t]>>(s+=this.DB-8)):(c=this[t]>>(s-=8)&255,s<=0&&(s+=this.DB,--t)),128&c&&(c|=-256),0==w&&(128&this.s)!=(128&c)&&++w,(w>0||c!=this.s)&&(e[w++]=c);return e},o.prototype.equals=function Ct(t){return 0==this.compareTo(t)},o.prototype.min=function bt(t){return this.compareTo(t)<0?this:t},o.prototype.max=function Rt(t){return this.compareTo(t)>0?this:t},o.prototype.and=function Wt(t){var e=i();return this.bitwiseTo(t,Pt,e),e},o.prototype.or=function Ut(t){var e=i();return this.bitwiseTo(t,xt,e),e},o.prototype.xor=function Ht(t){var e=i();return this.bitwiseTo(t,Nt,e),e},o.prototype.andNot=function qt(t){var e=i();return this.bitwiseTo(t,Mt,e),e},o.prototype.not=function Vt(){for(var t=i(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},o.prototype.shiftLeft=function Jt(t){var e=i();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},o.prototype.shiftRight=function Qt(t){var e=i();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},o.prototype.getLowestSetBit=function Gt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+zt(this[t]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function Zt(){for(var t=0,e=this.s&this.DM,s=0;s<this.t;++s)t+=Kt(this[s]^e);return t},o.prototype.testBit=function Yt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},o.prototype.setBit=function $t(t){return this.changeBit(t,xt)},o.prototype.clearBit=function jt(t){return this.changeBit(t,Mt)},o.prototype.flipBit=function te(t){return this.changeBit(t,Nt)},o.prototype.add=function ne(t){var e=i();return this.addTo(t,e),e},o.prototype.subtract=function ie(t){var e=i();return this.subTo(t,e),e},o.prototype.multiply=function re(t){var e=i();return this.multiplyTo(t,e),e},o.prototype.divide=function se(t){var e=i();return this.divRemTo(t,e,null),e},o.prototype.remainder=function ue(t){var e=i();return this.divRemTo(t,null,e),e},o.prototype.divideAndRemainder=function ae(t){var e=i(),s=i();return this.divRemTo(t,e,s),new Array(e,s)},o.prototype.modPow=function Ae(t,e){var c,T,s=t.bitLength(),w=I(1);if(s<=0)return w;c=s<18?1:s<48?3:s<144?4:s<768?5:6,T=s<8?new $(e):e.isEven()?new gt(e):new p(e);var W=new Array,V=3,it=c-1,st=(1<<c)-1;if(W[1]=T.convert(this),c>1){var ht=i();for(T.sqrTo(W[1],ht);V<=st;)W[V]=i(),T.mulTo(ht,W[V-2],W[V]),V+=2}var Et,dt,ft=t.t-1,_t=!0,pt=i();for(s=tt(t[ft])-1;ft>=0;){for(s>=it?Et=t[ft]>>s-it&st:(Et=(t[ft]&(1<<s+1)-1)<<it-s,ft>0&&(Et|=t[ft-1]>>this.DB+s-it)),V=c;!(1&Et);)Et>>=1,--V;if((s-=V)<0&&(s+=this.DB,--ft),_t)W[Et].copyTo(w),_t=!1;else{for(;V>1;)T.sqrTo(w,pt),T.sqrTo(pt,w),V-=2;V>0?T.sqrTo(w,pt):(dt=w,w=pt,pt=dt),T.mulTo(pt,W[Et],w)}for(;ft>=0&&!(t[ft]&1<<s);)T.sqrTo(w,pt),dt=w,w=pt,pt=dt,--s<0&&(s=this.DB-1,--ft)}return T.revert(w)},o.prototype.modInverse=function Fe(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return o.ZERO;for(var s=t.clone(),c=this.clone(),w=I(1),T=I(0),W=I(0),V=I(1);0!=s.signum();){for(;s.isEven();)s.rShiftTo(1,s),e?((!w.isEven()||!T.isEven())&&(w.addTo(this,w),T.subTo(t,T)),w.rShiftTo(1,w)):T.isEven()||T.subTo(t,T),T.rShiftTo(1,T);for(;c.isEven();)c.rShiftTo(1,c),e?((!W.isEven()||!V.isEven())&&(W.addTo(this,W),V.subTo(t,V)),W.rShiftTo(1,W)):V.isEven()||V.subTo(t,V),V.rShiftTo(1,V);s.compareTo(c)>=0?(s.subTo(c,s),e&&w.subTo(W,w),T.subTo(V,T)):(c.subTo(s,c),e&&W.subTo(w,W),V.subTo(T,V))}return 0!=c.compareTo(o.ONE)?o.ZERO:V.compareTo(t)>=0?V.subtract(t):V.signum()<0?(V.addTo(t,V),V.signum()<0?V.add(t):V):V},o.prototype.pow=function pe(t){return this.exp(t,new St)},o.prototype.gcd=function Be(t){var e=this.s<0?this.negate():this.clone(),s=t.s<0?t.negate():t.clone();if(e.compareTo(s)<0){var c=e;e=s,s=c}var w=e.getLowestSetBit(),T=s.getLowestSetBit();if(T<0)return e;for(w<T&&(T=w),T>0&&(e.rShiftTo(T,e),s.rShiftTo(T,s));e.signum()>0;)(w=e.getLowestSetBit())>0&&e.rShiftTo(w,e),(w=s.getLowestSetBit())>0&&s.rShiftTo(w,s),e.compareTo(s)>=0?(e.subTo(s,e),e.rShiftTo(1,e)):(s.subTo(e,s),s.rShiftTo(1,s));return T>0&&s.lShiftTo(T,s),s},o.prototype.isProbablePrime=function be(t){var e,s=this.abs();if(1==s.t&&s[0]<=at[at.length-1]){for(e=0;e<at.length;++e)if(s[0]==at[e])return!0;return!1}if(s.isEven())return!1;for(e=1;e<at.length;){for(var c=at[e],w=e+1;w<at.length&&c<we;)c*=at[w++];for(c=s.modInt(c);e<w;)if(c%at[e++]==0)return!1}return s.millerRabin(t)},o.prototype.square=function oe(){var t=i();return this.squareTo(t),t},o}),function(r){"use strict";"function"==typeof define&&define.amd?define("SRPClient",["sha1","sjcl","BigInteger"],r):window.SRPClient=r(sha1,sjcl,BigInteger)}(function(r,n,u){var o=function(i,f,C,d){if(!i)throw"Username cannot be empty.";this.username=i,this.password=f,this.hashFn=d||"sha-1";var B=this.initVals[C=C||1024];this.N=new u(B.N,16),this.g=new u(B.g,16),this.gBn=new u(B.g,16),this.k=this.k(),this.one=new u("1",16),this.two=new u("2",16)};return o.prototype={toHexString:function(i){var f=i.toString(16);return f.length%2==1&&(f="0"+f),f},padLeft:function(i,f){return i.length>f?i:Array(f-i.length+1).join("0")+i},bytesToHex:function(i){var f=this;return i.map(function(d){return f.padLeft(f.toHexString(d),2)}).join("")},hexToBytes:function(i){if(i.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===i.indexOf("0x")&&(i=i.slice(2)),i.match(/../g).map(function(f){return parseInt(f,16)})},stringToBytes:function(i){for(var f=[],m=0;m<i.length;++m)f.push(i.charCodeAt(m));return f},bytesToString:function(i){for(var f="",m=0;m<i.length;m++)f+=String.fromCharCode(i[m]);return f},k:function(){var i=[this.toHexString(this.N),this.toHexString(this.g)];return this.paddedHash(i)},calculateX:function(i){if(!i)throw"Missing parameter.";if(!this.username||!this.password)throw"Username and password cannot be empty.";var f=this.stringToBytes(this.username),m=this.hexToBytes(this.password),d=f.concat([58]).concat(m),C=this.hash(this.bytesToString(d)),B=this.hexToBytes(C),k=this.hexToBytes(i).concat(B),U=this.hash(this.bytesToString(k)),O=new u(U,16);if(O.compareTo(this.N)<0)return O;var D=new u(1,16);return O.mod(this.N.subtract(D))},calculateV:function(i){if(!i)throw"Missing parameter.";var f=this.calculateX(i);return this.g.modPow(f,this.N)},calculateU:function(i,f){if(!i||!f)throw"Missing parameter(s).";if("0"==i.mod(this.N).toString()||"0"==f.mod(this.N).toString())throw"ABORT: illegal_parameter";var m=[this.toHexString(i),this.toHexString(f)];return this.paddedHash(m)},canCalculateA:function(i){if(!i)throw"Missing parameter.";return Math.ceil(i.bitLength()/8)>=32},calculateA:function(i){if(!i)throw"Missing parameter.";if(!this.canCalculateA(i))throw"Client key length is less than 256 bits.";var f=this.g.modPow(i,this.N);if("0"==f.mod(this.N).toString())throw"ABORT: illegal_parameter";return f},calculateM1:function(i,f,m,d){if(!(i&&f&&m&&d))throw"Missing parameter(s).";if("0"==i.mod(this.N).toString()||"0"==f.mod(this.N).toString())throw"ABORT: illegal_parameter";for(var C=this.hexHash(this.toHexString(this.N)),B=this.hexHash(this.toHexString(this.g)),y=this.hash(this.username),k=[],U=this.hexToBytes(C),O=this.hexToBytes(B),D=0;D<U.length;D++)k[D]=U[D]^O[D];for(var _=[this.bytesToHex(k),y,d,this.toHexString(i),this.toHexString(f),m],x="",H=0;H<_.length;H++)x+=_[H];return new u(this.hexHash(x),16)},calculateM:function(i,f,m,d){if(!(i&&f&&m&&d))throw"Missing parameter(s).";if("0"==i.mod(this.N).toString()||"0"==f.mod(this.N).toString())throw"ABORT: illegal_parameter";for(var C=this.hexHash(this.toHexString(this.N)),B=this.hexHash(this.toHexString(this.g)),y=this.hash(this.username),k=[],U=this.hexToBytes(C),O=this.hexToBytes(B),D=0;D<U.length;D++)k[D]=U[D]^O[D];for(var _=[this.bytesToHex(k),y,d,this.toHexString(i),this.toHexString(f),m],x="",H=0;H<_.length;H++)x+=_[H];return this.hexHash(x)},calculateM2:function(i,f,m){if(!i||!f||!m)throw"Missing parameter(s).";if("0"==i.mod(this.N).toString()||"0"==f.mod(this.N).toString())throw"ABORT: illegal_parameter";for(var B=[this.toHexString(i),this.toHexString(f),m],y="",k=0;k<B.length;k++)y+=B[k];return new u(this.hexHash(y),16)},calculateS:function(i,f,m,d){if(!(i&&f&&m&&d))throw"Missing parameters.";if("0"==i.mod(this.N).toString())throw"ABORT: illegal_parameter";var C=this.calculateX(f),B=this.g.modPow(C,this.N);return i.add(this.N.multiply(this.k)).subtract(B.multiply(this.k)).mod(this.N).modPow(C.multiply(m).add(d),this.N)},calculateK:function(i){return this.hexHash(this.toHexString(i))},srpRandom:function(){var i=n.random.randomWords(8,0),f=n.codec.hex.fromBits(i);if(64!=f.length)throw"Invalid random number size.";var m=new u(f,16);return m.compareTo(this.N)>=0&&(m=a.mod(this.N.subtract(this.one))),m.compareTo(this.two)<0&&(m=two),m},randomHexSalt:function(){var i=n.random.randomWords(8,0);return n.codec.hex.fromBits(i)},paddedHash:function(i){for(var f=2*(4*this.toHexString(this.N).length+7>>3),m="",d=0;d<i.length;d++)m+=this.nZeros(f-i[d].length)+i[d];return new u(this.hexHash(m),16).mod(this.N)},hash:function(i){if("sha-256"===this.hashFn.toLowerCase()){var f=n.codec.hex.fromBits(n.hash.sha256.hash(i));return this.nZeros(64-f.length)+f}return r.calcSHA1(i)},hexHash:function(i){if("sha-256"===this.hashFn.toLowerCase()){var f=n.codec.hex.fromBits(n.hash.sha256.hash(n.codec.hex.toBits(i)));return this.nZeros(64-f.length)+f}return this.hash(this.pack(i))},pack:function(i){i.length%2!=0&&(i="0"+i);for(var f=0,m="";f<i.length/2;)m+=String.fromCharCode(parseInt(i.substr(2*f,2),16)),f++;return m},nZeros:function(i){if(i<1)return"";var f=this.nZeros(i>>1);return 1&i?f+f+"0":f+f},initVals:{1024:{N:"EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",g:"2"},1536:{N:"9DEF3CAFB939277AB1F12A8617A47BBBDBA51DF499AC4C80BEEEA9614B19CC4D5F4F5F556E27CBDE51C6A94BE4607A291558903BA0D0F84380B655BB9A22E8DCDF028A7CEC67F0D08134B1C8B97989149B609E0BE3BAB63D47548381DBC5B1FC764E3F4B53DD9DA1158BFD3E2B9C8CF56EDF019539349627DB2FD53D24B7C48665772E437D6C7F8CE442734AF7CCB7AE837C264AE3A9BEB87F8A2FE9B8B5292E5A021FFF5E91479E8CE7A28C2442C6F315180F93499A234DCF76E3FED135F9BB",g:"2"},2048:{N:"AC6BDB41324A9A9BF166DE5E1389582FAF72B6651987EE07FC3192943DB56050A37329CBB4A099ED8193E0757767A13DD52312AB4B03310DCD7F48A9DA04FD50E8083969EDB767B0CF6095179A163AB3661A05FBD5FAAAE82918A9962F0B93B855F97993EC975EEAA80D740ADBF4FF747359D041D5C33EA71D281E446B14773BCA97B43A23FB801676BD207A436C6481F1D2B9078717461A5B9D32E688F87748544523B524B0D57D5EA77A2775D2ECFA032CFBDBF52FB3786160279004E57AE6AF874E7303CE53299CCC041C7BC308D82A5698F3A8D0C38271AE35F8E9DBFBB694B5C803D89F7AE435DE236D525F54759B65E372FCD68EF20FA7111F9E4AFF73",g:"2"},3072:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",g:"5"},4096:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C934063199FFFFFFFFFFFFFFFF",g:"5"},6144:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C93402849236C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B332051512BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97FBEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AACC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58BB7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E6DCC4024FFFFFFFFFFFFFFFF",g:"5"},8192:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C93402849236C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B332051512BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97FBEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AACC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58BB7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E6DBE115974A3926F12FEE5E438777CB6A932DF8CD8BEC4D073B931BA3BC832B68D9DD300741FA7BF8AFC47ED2576F6936BA424663AAB639C5AE4F5683423B4742BF1C978238F16CBE39D652DE3FDB8BEFC848AD922222E04A4037C0713EB57A81A23F0C73473FC646CEA306B4BCBC8862F8385DDFA9D4B7FA2C087E879683303ED5BDD3A062B3CF5B3A278A66D2A13F83F44F82DDF310EE074AB6A364597E899A0255DC164F31CC50846851DF9AB48195DED7EA1B1D510BD7EE74D73FAF36BC31ECFA268359046F4EB879F924009438B481C6CD7889A002ED5EE382BC9190DA6FC026E479558E4475677E9AA9E3050E2765694DFC81F56E880B96E7160C980DD98EDD3DFFFFFFFFFFFFFFFFF",g:"19"}},calculateB:function(i,f){if(!i||!f)throw"Missing parameters.";return this.g.modPow(i,this.N).add(f.multiply(this.k)).mod(this.N)},calculateServerS:function(i,f,m,d){if(!(i&&f&&m&&d))throw"Missing parameters.";if("0"==i.mod(this.N).toString()||"0"==d.mod(this.N).toString())throw"ABORT: illegal_parameter";return f.modPow(m,this.N).multiply(i).mod(this.N).modPow(d,this.N)}},o}),function(){var n;n=function(){var r,n,u,i,f,m,d,C,B,y,k,U,O,A,x,D;return C={},u=document,y=!1,k="active",m=6e4,f=!1,x={},A="__ceGUID",n={add:function(P,Z,nt){return P[A]=void 0,P[A]||(P[A]="ifvisible.object.event.identifier"),x[P[A]]||(x[P[A]]={}),x[P[A]][Z]||(x[P[A]][Z]=[]),x[P[A]][Z].push(nt)},remove:function(P,Z,nt){var tt,X,j,M,L;if(nt){if(P[A]&&x[P[A]]&&x[P[A]][Z])for(X=j=0,M=(L=x[P[A]][Z]).length;j<M;X=++j)if((tt=L[X])===nt)return x[P[A]][Z].splice(X,1),tt}else if(P[A]&&x[P[A]]&&x[P[A]][Z])return delete x[P[A]][Z]},fire:function(P,Z,nt){var X,j,M,L;if(P[A]&&x[P[A]]&&x[P[A]][Z]){for(L=[],X=0,j=(M=x[P[A]][Z]).length;X<j;X++)L.push((0,M[X])(nt||{}));return L}}},D=!1,r=function(R,A,I){return D||(D=R.addEventListener?function(_,x,H){return _.addEventListener(x,H,!1)}:R.attachEvent?function(_,x,H){return _.attachEvent("on"+x,H,!1)}:function(_,x,H){return _["on"+x]=H}),D(R,A,I)},d=function(){var D,R,A,_;for(_=3,A=u.createElement("div"),D=A.getElementsByTagName("i"),R=function(){return A.innerHTML="\x3c!--[if gt IE "+ ++_+"]><i></i><![endif]--\x3e",D[0]};R(););return _>4?_:void 0}(),i=!1,O=void 0,typeof u.hidden<"u"?(i="hidden",O="visibilitychange"):typeof u.mozHidden<"u"?(i="mozHidden",O="mozvisibilitychange"):typeof u.msHidden<"u"?(i="msHidden",O="msvisibilitychange"):typeof u.webkitHidden<"u"&&(i="webkitHidden",O="webkitvisibilitychange"),U=function(){var D,R;return D=!1,(R=function(){return clearTimeout(D),"active"!==k&&C.wakeup(),f=+new Date,D=setTimeout(function(){if("active"===k)return C.idle()},m)})(),r(u,"mousemove",R),r(u,"keyup",R),r(window,"scroll",R),C.focus(R),C.wakeup(R)},B=function(){var D;return!!y||(!1===i?(D="blur",d<9&&(D="focusout"),r(window,D,function(){return C.blur()}),r(window,"focus",function(){return C.focus()})):r(u,O,function(){return u[i]?C.blur():C.focus()},!1),y=!0,U())},C={setIdleDuration:function(D){return m=1e3*D},getIdleDuration:function(){return m},getIdleInfo:function(){var D,R;return D=+new Date,R={},"idle"===k?(R.isIdle=!0,R.idleFor=D-f,R.timeLeft=0,R.timeLeftPer=100):(R.isIdle=!1,R.idleFor=D-f,R.timeLeft=f+m-D,R.timeLeftPer=(100-100*R.timeLeft/m).toFixed(2)),R},focus:function(D){return"function"==typeof D?this.on("focus",D):(k="active",n.fire(this,"focus"),n.fire(this,"wakeup"),n.fire(this,"statusChanged",{status:k}))},blur:function(D){return"function"==typeof D?this.on("blur",D):(k="hidden",n.fire(this,"blur"),n.fire(this,"idle"),n.fire(this,"statusChanged",{status:k}))},idle:function(D){return"function"==typeof D?this.on("idle",D):(k="idle",n.fire(this,"idle"),n.fire(this,"statusChanged",{status:k}))},wakeup:function(D){return"function"==typeof D?this.on("wakeup",D):(k="active",n.fire(this,"wakeup"),n.fire(this,"statusChanged",{status:k}))},on:function(D,R){return B(),n.add(this,D,R)},off:function(D,R){return B(),n.remove(this,D,R)},onEvery:function(D,R){var A,I;return B(),A=!1,R&&(I=setInterval(function(){if("active"===k&&!1===A)return R()},1e3*D)),{stop:function(){return clearInterval(I)},pause:function(){return A=!0},resume:function(){return A=!1},code:I,callback:R}},now:function(D){return B(),k===(D||"active")}},C},"function"==typeof define&&define.amd?define("ifvisible",function(){return n()}):"object"==typeof exports?module.exports=n():this.ifvisible=n()}.call(this),function(r){"use strict";"function"==typeof define&&define.amd?define("WebSdkCore",[],r):window.WebSdkCore=r()}(function(){var o={WebSdk:{Promise:null,debug:!1,version:4},WebSdkEncryptionSupport:{None:1,Encoding:2,Encryption:3,AESEncryption:4},WebSdkDataSupport:{Binary:1,String:2},log:function(){o.WebSdk.debug&&(console.log.apply?console.log.apply(console,[].slice.call(arguments)):console.log(arguments[0]))}};return o}),function(r){"use strict";if("function"==typeof define&&define.amd)define("WebSdkCore.utils",["WebSdkCore"],r);else{if(!window.WebSdkCore)throw new Error("WebSdkCore is not loaded.");window.WebSdkCore.utils=r(window)}}(function(r){var m=function(){function d(C){this.m_items=[],this.m_maxSize=C}return Object.defineProperty(d.prototype,"length",{get:function(){return this.m_items.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"items",{get:function(){return this.m_items},enumerable:!0,configurable:!0}),d.prototype.trimHead=function(){this.m_items.length<=this.m_maxSize||Array.prototype.splice.call(this.m_items,0,this.m_items.length-this.m_maxSize)},d.prototype.trimTail=function(){this.m_items.length<=this.m_maxSize||Array.prototype.splice.call(this.m_items,this.m_maxSize,this.m_items.length-this.m_maxSize)},d.prototype.push=function(){var C=Array.prototype.push.apply(this.m_items,arguments);return this.trimHead(),C},d.prototype.splice=function(){var C=Array.prototype.splice.apply(this.m_items,arguments);return this.trimTail(),C},d.prototype.unshift=function(){var C=Array.prototype.unshift.apply(this.m_items,arguments);return this.trimTail(),C},d}();return{getQueryParam:function n(d,C){var B=RegExp("[?&]"+C+"=([^&]*)").exec(d);return B?decodeURIComponent(B[1].replace(/\+/g," ")):null},ajax:function u(d,C,B){return new Promise(function(k,U){var O=new XMLHttpRequest;if(O.open(d,C,!0),O.responseType="json",O.setRequestHeader("Accept","application/json"),O.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE)if(200===this.status){var _;_=""===this.responseType&&"string"==typeof this.responseText?JSON.parse(this.responseText):this.response,k(_)}else U(this)},"post"===d.toLowerCase()&&B){var D,A,R=[];for(A in B)R.push(encodeURIComponent(A)+"="+encodeURIComponent(B[A]));D=R.join("&").replace(/%20/g,"+"),O.send(D)}else O.send()})},tryParseJson:function f(d){if(!d)return null;var C;try{C=JSON.parse(d)}catch{C=null}return C},Deferred:function i(){return function o(d){return d.promise=new Promise(function(C,B){d.resolve=C,d.reject=B}),d}(this instanceof i?this:Object.create(i.prototype))},FixedQueue:m}}),function(r){"use strict";if("function"==typeof define&&define.amd)define("WebSdkCore.configurator",["WebSdkCore","WebSdkCore.utils"],r);else{if(!window.WebSdkCore)throw new Error("WebSdkCore is not loaded.");window.WebSdkCore.configurator=r(window.WebSdkCore,window.WebSdkCore.utils)}}(function(r,n){function u(){this.m_key="websdk";var o=n.tryParseJson(sessionStorage.getItem(this.m_key));o&&(this.m_port=parseInt(o.port),this.m_host=o.host||"127.0.0.1",this.m_isSecure=o.isSecure,this.m_srp=o.srp)}return Object.defineProperty(u.prototype,"url",{get:function(){return this.m_port&&this.m_host?(this.m_isSecure?"https":"http")+"://"+this.m_host+":"+this.m_port.toString():null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"srp",{get:function(){return this.m_srp},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sessionId",{get:function(){return sessionStorage.getItem("websdk.sessionId")},set:function(o){return sessionStorage.setItem("websdk.sessionId",o)},enumerable:!0,configurable:!0}),u.prototype.ensureLoaded=function(o){if(r.log("Configurator: ensureLoaded"),this.url&&this.srp)return o(null);var i=this;n.ajax("get","https://127.0.0.1:52181/get_connection").then(function(m){r.log("Configurator: findConfiguration -> ",m),m&&m.endpoint&&i.tryParse(m.endpoint)?o(null):o(new Error("Cannot load configuration"))}).catch(function(m){r.log("Configurator: findConfiguration -> ERROR ",m),o(m)})},u.prototype.tryParse=function(o){r.log("Configurator: tryParse "+o);var i=document.createElement("a");i.href=o;var f=parseInt(n.getQueryParam(i.search,"web_sdk_port")||""),m="true"==n.getQueryParam(i.search,"web_sdk_secure"),d=i.hostname,C=n.getQueryParam(i.search,"web_sdk_username"),B=n.getQueryParam(i.search,"web_sdk_password"),y=n.getQueryParam(i.search,"web_sdk_salt");return!!(f&&d&&C&&B&&y)&&(this.m_port=f,this.m_host=d,this.m_isSecure=m,this.m_srp={p1:C,p2:B,salt:y},sessionStorage.setItem(this.m_key,JSON.stringify({port:this.m_port,host:this.m_host,isSecure:this.m_isSecure,srp:this.m_srp})),!0)},new u}),function(r){"use strict";if("function"==typeof define&&define.amd)define("WebSdkCore.cipher",["WebSdkCore"],r);else{if(!window.WebSdkCore)throw new Error("WebSdkCore is not loaded.");window.WebSdkCore.cipher=r(window.WebSdkCore)}}(function(r){var n=1,u_Binary=1,u_UnicodeString=2,o=window.crypto||window.msCrypto;function i(M){var L=function m(M){return encodeURIComponent(M).replace(/%([0-9A-F]{2})/g,function(Q,Y){return String.fromCharCode(parseInt(Y,16))})}(M);return btoa(L)}function f(M){return function d(M){var L=M.replace(/(.)/g,function(J,Q){var Y=Q.charCodeAt(0).toString(16).toUpperCase();return Y.length<2&&(Y="0"+Y),"%"+Y});return decodeURIComponent(L)}(atob(M))}function B(M,L){return Array.prototype.map.call(L,function(Q){return Q}).map(function(Q,Y){return String.fromCharCode(Q.charCodeAt(0)^function C(M,L){return M.charCodeAt(Math.floor(L%M.length))}(M,Y))}).join("")}function k(M,L){var J=new DataView(M);J.setUint8(0,n),J.setUint8(1,L),J.setUint32(2,M.byteLength-8,!0),J.setUint16(6,8,!0)}function U(M){return new Promise(function(L,J){var Q=new Blob([new Uint8Array(M)]),Y=new FileReader;Y.onload=function(h){return L(h.target.result)},Y.onerror=function(h){return J(h.target.error)},Y.readAsText(Q,"utf-16")})}function R(M){return o.subtle.importKey("raw",M,{name:"AES-CBC"},!1,["encrypt","decrypt"])}function _(M){var L=["encrypt","decrypt"];return new Promise(function(Q,Y){var h=o.subtle.importKey("raw",M,{name:"AES-CBC"},!1,L);h.oncomplete=function(F){Q(h.result)},h.onerror=function(F){Y(new Error("Cannot create a key..."))}})}function nt(M){if(M.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===M.indexOf("0x")&&(M=M.slice(2)),new Uint8Array(M.match(/../g).map(function(L){return parseInt(L,16)}))}function tt(M){return new Promise(function(L,J){setTimeout(function(){L(M)})})}function X(M,L,J){var Y,Q=new Uint8Array(nt(L).buffer,0,16);return Y="string"==typeof J?function O(M){var L=new ArrayBuffer(2*M.length+8);k(L,u_UnicodeString);for(var J=new Uint16Array(L,8),Q=0,Y=M.length;Q<Y;Q++)J[Q]=M.charCodeAt(Q);return L}(J):function D(M){var L=new ArrayBuffer(M.length+8);k(L,u_Binary);var J=new Uint8Array(M);return new Uint8Array(L,8).set(J),L}(J),function P(M,L,J){return typeof window.crypto<"u"?R(L).then(function(Q){return function A(M,L,J){return o.subtle.encrypt({name:"AES-CBC",iv:J},L,M)}(M,Q,J)}):_(L).then(function(Q){return function x(M,L,J){return new Promise(function(Q,Y){var h=o.subtle.encrypt({name:"AES-CBC",iv:J},L,M);h.oncomplete=function(F){Q(h.result)},h.onerror=function(F){Y(new Error("Fail to encrypt data..."))}})}(M,Q,J)})}(Y,M,Q)}function j(M,L,J){return function Z(M,L,J){return typeof window.crypto<"u"?R(L).then(function(Q){return function I(M,L,J){return o.subtle.decrypt({name:"AES-CBC",iv:J},L,M)}(M,Q,J)}):_(L).then(function(Q){return function H(M,L,J){return new Promise(function(Q,Y){var h=o.subtle.decrypt({name:"AES-CBC",iv:J},L,M);h.oncomplete=function(F){Q(h.result)},h.onerror=function(F){Y(new Error("Fail to encrypt data..."))}})}(M,Q,J)})}(J,M,new Uint8Array(nt(L).buffer,0,16)).then(function(Y){var h=function y(M){var L=new DataView(M);return{version:L.getUint8(0),type:L.getUint8(1),length:L.getUint32(2,!0),offset:L.getUint16(6,!0)}}(Y);if(h.version!==n)throw new Error("Invalid data version!");switch(h.type){case u_Binary:return Y.slice(h.offset);case u_UnicodeString:return U(Y.slice(h.offset));default:throw new Error("Invalid data type!")}return U(Y)})}return{encode:function(M,L,J){switch(r.WebSdk.version){case r.WebSdkEncryptionSupport.AESEncryption:return X(M,L,J);case r.WebSdkEncryptionSupport.Encryption:return tt(i(B(L,J)));case r.WebSdkEncryptionSupport.Encoding:return tt(i(J));default:return tt(J)}},decode:function(M,L,J){switch(r.WebSdk.version){case r.WebSdkEncryptionSupport.AESEncryption:return j(M,L,J);case r.WebSdkEncryptionSupport.Encryption:return tt(B(L,f(J)));case r.WebSdkEncryptionSupport.Encoding:return tt(f(J));default:return tt(J)}},isCryptoSupported:function(){return typeof o<"u"&&o.subtle&&o.subtle.importKey&&o.subtle.encrypt},hexToBytes:function(M){return nt(M)}}}),function(r){"use strict";if("function"==typeof define&&define.amd)define("WebSdkCore.channelOptions",["WebSdkCore"],r);else{var n=window.WebSdkCore;if(!n)throw new Error("WebSdkCore is not loaded.");window.WebSdkCore.channelOptions=r(n)}}(function(r){return function n(u){u||(u={});var o=r.WebSdkEncryptionSupport.AESEncryption,i=!0===u.debug;function f(m){for(var d in r.WebSdkEncryptionSupport)if(r.WebSdkEncryptionSupport.hasOwnProperty(d)&&r.WebSdkEncryptionSupport[d]===m)return;throw new Error("invalid WebSdk version requested")}u.version&&(f(u.version),o=u.version),Object.defineProperties(this,{version:{get:function(){return o},set:function(m){f(m),o=m},enumerable:!0},debug:{get:function(){return i},set:function(){i=value},enumerable:!0}})}}),function(r){"use strict";if("function"==typeof define&&define.amd)define("WebSdkCore.channelClientImplementation",["async","sjcl","BigInteger","SRPClient","WebSdkCore","WebSdkCore.utils","WebSdkCore.configurator","WebSdkCore.cipher"],r);else{var n=window.WebSdkCore;if(!n)throw new Error("WebSdkCore is not loaded.");window.WebSdkCore.channelClientImplementation=r(async,sjcl,BigInteger,SRPClient,n,n.utils,n.configurator,n.cipher)}}(function(r,n,u,o,i,f,m,d){function C(B){if(!B)throw new Error("clientPath cannot be empty");i.log("WebSdkVersion: ",i.WebSdk.version,"clientPath: ",B),this.clientPath=B,this.wsThreshold=10240,this.wsQueueInterval=1e3,this.wsQueueLimit=100,this.wsReconnectInterval=5e3,this.queue=new f.FixedQueue(this.wsQueueLimit),this.queueInterval=null,this.webSocket=null,this.sessionKey=null,this.M1=null,this.reconnectTimer=null,this.onConnectionFailed=null,this.onConnectionSucceed=null,this.onDataReceivedBin=null,this.onDataReceivedTxt=null;var y=this;try{window.parent.parent.addEventListener("blur",function(){y.resetReconnectTimer(),y.notifyFocusChanged(!1)}),window.parent.parent.addEventListener("focus",function(){y.notifyFocusChanged(!0)})}catch{}}return C.prototype.notifyFocusChanged=function(B){this.isConnected()&&(i.log("WebChannelClientImpl: notifyFocusChanged ->",B),this.sendData(JSON.stringify({type:"sdk.focusChanged",data:B})))},C.prototype.fireConnectionFailed=function(){this.setReconnectTimer(),this.onConnectionFailed&&this.onConnectionFailed()},C.prototype.fireConnectionSucceed=function(){this.onConnectionSucceed&&this.onConnectionSucceed()},C.prototype.resetReconnectTimer=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},C.prototype.setReconnectTimer=function(){this.resetReconnectTimer();var B=this;this.reconnectTimer=setInterval(function(){B.connectInternal(!1)},this.wsReconnectInterval)},C.prototype.wsconnect=function(B){i.log("WebChannelClientImpl: wsconnect "+B);var y=this,k=f.Deferred();if(this.webSocket&&this.webSocket.readyState!==WebSocket.CLOSED)throw new Error("wsdisconnect has not been called");return this.webSocket=new WebSocket(B),this.webSocket.binaryType="arraybuffer",this.webSocket.onclose=function(U){return i.log("WebChannelClientImpl: wsonclose"),y.wsonclose(!0)},this.webSocket.onopen=function(U){i.log("WebChannelClientImpl: wsonopen"),k.resolve();try{window.parent.parent.document.hasFocus()?y.notifyFocusChanged(!0):y.notifyFocusChanged(!1)}catch{y.notifyFocusChanged(!0)}},this.webSocket.onerror=function(U){return i.log("WebChannelClientImpl: wsonerror "+arguments),k.reject(new Error("WebSocket connection failed."))},this.webSocket.onmessage=function(U){return y.wsonmessage(U)},k.promise},C.prototype.wsdisconnect=function(){var B=this,y=f.Deferred();return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN?(this.webSocket.onclose=function(k){B.wsonclose(!1),y.resolve()},this.webSocket.close()):y.resolve(),y.promise},C.prototype.wsonclose=function(B){i.log("WebChannelClientImpl: connection closed"),this.webSocket.onclose=null,this.webSocket.onopen=null,this.webSocket.onmessage=null,this.webSocket.onerror=null,this.deactivateBufferCheck(),B&&this.fireConnectionFailed()},C.prototype.wsonmessage=function(B){var y=this;d.decode(this.sessionKey,this.M1,B.data).then(function(k){"string"==typeof k?y.onDataReceivedTxt&&y.onDataReceivedTxt(k):y.onDataReceivedBin&&y.onDataReceivedBin(k)})},C.prototype.wssend=function(B){return!!this.isConnected()&&(this.webSocket.bufferedAmount>=this.wsThreshold?(this.activateBufferCheck(),!1):(this.webSocket.send(B),!0))},C.prototype.generateSessionKey=function(B){var y=m.srp;if(!y.p1||!y.p2||!y.salt)return B(new Error("No data available for authentication"));var O,k=this,U=new o(y.p1,y.p2);do{O=U.srpRandom()}while(!U.canCalculateA(O));var D=U.calculateA(O);i.WebSdk.version>=i.WebSdkEncryptionSupport.AESEncryption&&!d.isCryptoSupported()&&(i.WebSdk.version=i.WebSdkEncryptionSupport.Encryption),f.ajax("post",m.url+"/connect",{username:y.p1,A:U.toHexString(D),version:i.WebSdk.version.toString()}).then(function(R){i.WebSdk.version=void 0===R.version?Math.min(i.WebSdk.version,i.WebSdkEncryptionSupport.Encryption):R.version;var A=new u(R.B,16),I=U.calculateU(D,A),_=U.calculateS(A,y.salt,I,O),x=U.calculateK(_),H=U.calculateM(D,A,x,y.salt);k.sessionKey=d.hexToBytes(n.codec.hex.fromBits(n.hash.sha256.hash(n.codec.hex.toBits(x)))),k.M1=H,B(null,H)}).catch(B)},C.prototype.setupSecureChannel=function(B){i.log("WebChannelClientImpl.setupSecureChannel");var y=this;r.waterfall([function(k){y.generateSessionKey(k)},function(k,U){var O=m.url.replace("http","ws")+"/"+y.clientPath+"?username="+m.srp.p1+"&M1="+y.M1;m.sessionId||(m.sessionId=n.codec.hex.fromBits(n.random.randomWords(2,0))),O+="&sessionId="+m.sessionId,O+="&version="+i.WebSdk.version.toString(),y.wsconnect(O).then(function(){U(null)}).catch(function(D){i.log(D),U(D)})}],B)},C.prototype.isConnected=function(){return!!this.webSocket&&this.webSocket.readyState===WebSocket.OPEN},C.prototype.sendData=function(B){this.wssend(B)||this.queue.push(B)},C.prototype.deactivateBufferCheck=function(){this.queueInterval&&(clearInterval(this.queueInterval),this.queueInterval=null)},C.prototype.activateBufferCheck=function(){if(!this.queueInterval){var B=this;this.queueInterval=setInterval(function(){B.processMessageQueue(),0===B.queue.length&&B.deactivateBufferCheck()},this.wsQueueInterval)}},C.prototype.processMessageQueue=function(){if(i.log("WebChannelClientImpl: processMessageQueue "+this.queue.length),0!==this.queue.length)for(;0<this.queue.length&&this.wssend(this.queue.items[0]);)this.queue.splice(0,1)},C.prototype.connectInternal=function(B){i.log("WebChannelClientImpl.connectInternal"),this.resetReconnectTimer();var y=this;r.waterfall([function(k){m.ensureLoaded(k)},function(k){r.retry(B?3:1,function(){y.setupSecureChannel(k)},k)}],function(k){if(k)return y.fireConnectionFailed();y.fireConnectionSucceed(),y.processMessageQueue()})},C.prototype.connect=function(){this.connectInternal(!0)},C.prototype.disconnect=function(){this.wsdisconnect()},C.prototype.sendDataBin=function(B){var y=this;d.encode(this.sessionKey,this.M1,B).then(function(k){y.sendData(k)})},C.prototype.sendDataTxt=function(B){var y=this;d.encode(this.sessionKey,this.M1,B).then(function(k){y.sendData(k)})},C}),function(r){"use strict";if("function"==typeof define&&define.amd)define("WebSdkCore.channelClient",["WebSdkCore","WebSdkCore.channelOptions","WebSdkCore.channelClientImplementation"],r);else{var n=window.WebSdkCore;if(!n)throw new Error("WebSdkCore is not loaded.");window.WebSdkCore.channelClient=r(n,n.channelOptions,n.channelClientImplementation)}}(function(r,n,u){return function o(i,f){if(f){r.log(f);var m=new n(f);r.WebSdk.debug=m.debug,r.WebSdk.version=m.version}var d=new u(i);Object.defineProperties(this,{path:{get:function(){return i},enumerable:!0},onConnectionFailed:{get:function(){return d.onConnectionFailed},set:function(C){d.onConnectionFailed=C},enumerable:!0},onConnectionSucceed:{get:function(){return d.onConnectionSucceed},set:function(C){d.onConnectionSucceed=C},enumerable:!0},onDataReceivedBin:{get:function(){return d.onDataReceivedBin},set:function(C){d.onDataReceivedBin=C},enumerable:!0},onDataReceivedTxt:{get:function(){return d.onDataReceivedTxt},set:function(C){d.onDataReceivedTxt=C},enumerable:!0}}),this.connect=function(){d.connect()},this.disconnect=function(){d.disconnect()},this.isConnected=function(){return d.isConnected()},this.sendDataBin=function(C){d.sendDataBin(C)},this.sendDataTxt=function(C){d.sendDataTxt(C)},this.resetReconnectTimer=function(){d.resetReconnectTimer()}}}),function(r){"use strict";if("function"==typeof define&&define.amd)define("WebSdk",["WebSdkCore","WebSdkCore.channelOptions","WebSdkCore.channelClient","ifvisible"],r);else{var n=window.WebSdkCore;if(!n)throw new Error("WebSdkCore is not loaded.");window.WebSdk=r(n,n.channelOptions,n.channelClient,ifvisible)}}(function(r,n,u,o){return r.log("loaded websdk.client.ui"),r.visibilityApi=o,{WebChannelOptions:n,WebChannelClient:u}}),function(r,n){"object"==typeof exports&&typeof module<"u"?n(exports,require("@digitalpersona/core"),require("WebSdk")):"function"==typeof define&&define.amd?define(["exports","@digitalpersona/core","WebSdk"],n):n(((r=r||self).dp=r.dp||{},r.dp.devices=r.dp.devices||{}),r.dp.core)}(this,function(r,n){"use strict";class u{constructor(F){this.type=F}}class o extends u{constructor(){super("CommunicationFailed")}}class i extends u{constructor(F,z){super(F),this.deviceId=z}}class f extends i{constructor(F){super("DeviceConnected",F)}}class m extends i{constructor(F){super("DeviceDisconnected",F)}}var d,C,B,y,k,U,O,D,R,A,I,_,x,H,h;(d=r.CardType||(r.CardType={}))[d.Contact=1]="Contact",d[d.Contactless=2]="Contactless",d[d.Proximity=4]="Proximity",(C=r.CardAttributes||(r.CardAttributes={}))[C.SupportsPIN=1]="SupportsPIN",C[C.SupportsUID=2]="SupportsUID",C[C.IsPKI=65536]="IsPKI",C[C.IsPIV=131072]="IsPIV",C[C.IsReadOnly=2147483648]="IsReadOnly";class P extends i{constructor(F,z){super("CardInserted",F),this.cardId=z}}class Z extends i{constructor(F,z){super("CardRemoved",F),this.cardId=z}}class nt{constructor(){this.handlers={}}_on(F,z){return this.handlers[F]=this.handlers[F]||[],this.handlers[F].push(z),z}_off(F,z){if(F){const $=this.handlers[F];$&&(z?this.handlers[F]=$.filter(ot=>ot!==z):delete this.handlers[F])}else this.handlers={};return this}emit(F){if(!F)return;const z=F.type,$=this["on"+z];$&&this.invoke($,F);const ot=this.handlers[z];ot&&ot.forEach(ct=>this.invoke(ct,F))}invoke(F,z){try{F(z)}catch($){console.error($)}}}(h=B||(B={}))[h.Response=0]="Response",h[h.Notification=1]="Notification";class tt{constructor(F,z){this.pending=[],this.webChannel=new WebSdk.WebChannelClient(F,z),this.webChannel.onConnectionSucceed=this.onConnectionSucceed.bind(this),this.webChannel.onConnectionFailed=this.onConnectionFailed.bind(this),this.webChannel.onDataReceivedTxt=this.onDataReceivedTxt.bind(this)}send(F,z){const $=new Promise((ot,ct)=>{F.resolve=ot,F.reject=ct,z&&(F.timer=window.setTimeout(()=>{if(F.timer)try{F.reject(new Error("Timeout"))}catch{}},z))});return this.pending.push(F),this.webChannel.isConnected()?this.processRequestQueue():this.webChannel.connect(),$}onConnectionSucceed(){this.processRequestQueue()}onConnectionFailed(){if(this.pending.forEach(F=>F.reject(new Error("Communication failure."))),this.pending=[],this.onCommunicationError)try{this.onCommunicationError()}catch{}}onDataReceivedTxt(F){const z=JSON.parse(n.Utf8.fromBase64Url(F));if(z.Type===B.Response){const $=JSON.parse(n.Utf8.fromBase64Url(z.Data||"")),ot=this.findRequest($);if(null!==ot){ot.timer&&(window.clearTimeout(ot.timer),delete ot.timer);const ct=$.Result>>>0;ct>2147483647?ot.reject(new Error(`0x${ct.toString(16)}`)):ot.resolve($)}else console.log(`Orphaned response: ${z.Type}`)}else if(z.Type===B.Notification){const $=JSON.parse(n.Utf8.fromBase64Url(z.Data||""));if(this.onNotification)try{this.onNotification($)}catch{}}else console.log(`Unknown message type: ${z.Type}`)}processRequestQueue(){this.pending.forEach((F,z,$)=>{F.sent||(this.webChannel.sendDataTxt(n.Base64Url.fromJSON(F.command)),$[z].sent=!0)})}findRequest(F){for(let z=0;z<this.pending.length;z++){const $=this.pending[z];if($.sent&&$.command.Method===F.Method)return this.pending.splice(z,1),$}return null}}class X{constructor(F,z){this.Method=F,this.Parameters=z}}class j{constructor(F){this.command=F,this.sent=!1}}(function(h){h[h.EnumerateReaders=1]="EnumerateReaders",h[h.EnumerateCards=2]="EnumerateCards",h[h.GetCardInfo=3]="GetCardInfo",h[h.GetCardUID=4]="GetCardUID",h[h.GetDPCardAuthData=5]="GetDPCardAuthData",h[h.GetDPCardEnrollData=6]="GetDPCardEnrollData",h[h.Subscribe=100]="Subscribe",h[h.Unsubscribe=101]="Unsubscribe"})(y||(y={})),function(h){h[h.ReaderConnected=1]="ReaderConnected",h[h.ReaderDisconnected=2]="ReaderDisconnected",h[h.CardInserted=3]="CardInserted",h[h.CardRemoved=4]="CardRemoved"}(k||(k={})),(U=r.DeviceUidType||(r.DeviceUidType={}))[U.Persistent=0]="Persistent",U[U.Volatile=1]="Volatile",(O=r.DeviceModality||(r.DeviceModality={}))[O.Unknown=0]="Unknown",O[O.Swipe=1]="Swipe",O[O.Area=2]="Area",O[O.AreaMultifinger=3]="AreaMultifinger",(D=r.DeviceTechnology||(r.DeviceTechnology={}))[D.Unknown=0]="Unknown",D[D.Optical=1]="Optical",D[D.Capacitive=2]="Capacitive",D[D.Thermal=3]="Thermal",D[D.Pressure=4]="Pressure",(R=r.SampleFormat||(r.SampleFormat={}))[R.Raw=1]="Raw",R[R.Intermediate=2]="Intermediate",R[R.Compressed=3]="Compressed",R[R.PngImage=5]="PngImage",(A=r.QualityCode||(r.QualityCode={}))[A.Good=0]="Good",A[A.NoImage=1]="NoImage",A[A.TooLight=2]="TooLight",A[A.TooDark=3]="TooDark",A[A.TooNoisy=4]="TooNoisy",A[A.LowContrast=5]="LowContrast",A[A.NotEnoughFeatures=6]="NotEnoughFeatures",A[A.NotCentered=7]="NotCentered",A[A.NotAFinger=8]="NotAFinger",A[A.TooHigh=9]="TooHigh",A[A.TooLow=10]="TooLow",A[A.TooLeft=11]="TooLeft",A[A.TooRight=12]="TooRight",A[A.TooStrange=13]="TooStrange",A[A.TooFast=14]="TooFast",A[A.TooSkewed=15]="TooSkewed",A[A.TooShort=16]="TooShort",A[A.TooSlow=17]="TooSlow",A[A.ReverseMotion=18]="ReverseMotion",A[A.PressureTooHard=19]="PressureTooHard",A[A.PressureTooLight=20]="PressureTooLight",A[A.WetFinger=21]="WetFinger",A[A.FakeFinger=22]="FakeFinger",A[A.TooSmall=23]="TooSmall",A[A.RotatedTooMuch=24]="RotatedTooMuch";class M extends i{constructor(F,z,$){super("SamplesAcquired",F),this.sampleFormat=z,this.samples=JSON.parse($)}}class L extends i{constructor(F,z){super("QualityReported",F),this.quality=z}}class J extends i{constructor(F,z){super("ErrorOccurred",F),this.error=z}}class Q extends i{constructor(F){super("AcquisitionStarted",F)}}class Y extends i{constructor(F){super("AcquisitionStopped",F)}}(function(h){h[h.EnumerateDevices=1]="EnumerateDevices",h[h.GetDeviceInfo=2]="GetDeviceInfo",h[h.StartAcquisition=3]="StartAcquisition",h[h.StopAcquisition=4]="StopAcquisition"})(I||(I={})),function(h){h[h.Completed=0]="Completed",h[h.Error=1]="Error",h[h.Disconnected=2]="Disconnected",h[h.Connected=3]="Connected",h[h.Quality=4]="Quality",h[h.Stopped=10]="Stopped",h[h.Started=11]="Started"}(_||(_={})),function(h){h[h.Init=1]="Init",h[h.Continue=2]="Continue",h[h.Term=3]="Term",h[h.Authenticate=4]="Authenticate"}(x||(x={})),function(h){h[h.Response=0]="Response",h[h.Notification=1]="Notification"}(H||(H={})),r.AcquisitionStarted=Q,r.AcquisitionStopped=Y,r.CardInserted=P,r.CardRemoved=Z,r.CardsReader=class extends nt{constructor(h){super(),this.channel=new tt("smartcards",h),this.channel.onCommunicationError=this.onConnectionFailed.bind(this),this.channel.onNotification=this.processNotification.bind(this)}on(h,F){return this._on(h,F)}off(h,F){return this._off(h,F)}enumerateReaders(){return this.channel.send(new j(new X(y.EnumerateReaders))).then(h=>{const F=JSON.parse(n.Utf8.fromBase64Url(h.Data||"{}"));return JSON.parse(F.Readers||"[]")})}enumerateCards(){return this.channel.send(new j(new X(y.EnumerateCards))).then(h=>{const F=JSON.parse(n.Utf8.fromBase64Url(h.Data||"{}"));return JSON.parse(F.Cards||"[]").map(z=>JSON.parse(n.Utf16.fromBase64Url(z)))})}getCardInfo(h){return this.channel.send(new j(new X(y.GetCardInfo,n.Base64Url.fromJSON({Reader:h})))).then(F=>JSON.parse(n.Utf8.fromBase64Url(F.Data||"null")))}getCardUid(h){return this.channel.send(new j(new X(y.GetCardUID,n.Base64Url.fromJSON({Reader:h})))).then(F=>n.Base64.fromBase64Url(F.Data||""))}getCardAuthData(h,F){return this.channel.send(new j(new X(y.GetDPCardAuthData,n.Base64Url.fromJSON({Reader:h,PIN:F||""})))).then(z=>JSON.parse(n.Utf8.fromBase64Url(z.Data||"")))}getCardEnrollData(h,F){return this.channel.send(new j(new X(y.GetDPCardEnrollData,n.Base64Url.fromJSON({Reader:h,PIN:F||""})))).then(z=>JSON.parse(n.Utf8.fromBase64Url(z.Data||"")))}subscribe(h){return this.channel.send(new j(new X(y.Subscribe,h?n.Base64Url.fromJSON({Reader:h}):""))).then()}unsubscribe(h){return this.channel.send(new j(new X(y.Unsubscribe,h?n.Base64Url.fromJSON({Reader:h}):""))).then()}onConnectionFailed(){this.emit(new o)}processNotification(h){switch(h.Event){case k.ReaderConnected:return this.emit(new f(h.Reader));case k.ReaderDisconnected:return this.emit(new m(h.Reader));case k.CardInserted:return this.emit(new P(h.Reader,h.Card));case k.CardRemoved:return this.emit(new Z(h.Reader,h.Card));default:console.log(`Unknown notification: ${h.Event}`)}}},r.CommunicationFailed=o,r.DeviceConnected=f,r.DeviceDisconnected=m,r.DeviceEvent=i,r.ErrorOccurred=J,r.Event=u,r.FingerprintReader=class extends nt{constructor(h){super(),this.options=h,this.channel=new tt("fingerprints",this.options),this.channel.onCommunicationError=this.onConnectionFailed.bind(this),this.channel.onNotification=this.processNotification.bind(this)}on(h,F){return this._on(h,F)}off(h,F){return this._off(h,F)}enumerateDevices(){return this.channel.send(new j(new X(I.EnumerateDevices))).then(h=>{if(!h)return[];const F=JSON.parse(n.Utf8.fromBase64Url(h.Data||"{}"));return JSON.parse(F.DeviceIDs||"[]")})}getDeviceInfo(h){return this.channel.send(new j(new X(I.GetDeviceInfo,n.Base64Url.fromJSON({DeviceID:h})))).then(F=>JSON.parse(n.Utf8.fromBase64Url(F.Data||"null")))}startAcquisition(h,F){return this.channel.send(new j(new X(I.StartAcquisition,n.Base64Url.fromJSON({DeviceID:F||"00000000-0000-0000-0000-000000000000",SampleType:h})))).then()}stopAcquisition(h){return this.channel.send(new j(new X(I.StopAcquisition,n.Base64Url.fromJSON({DeviceID:h||"00000000-0000-0000-0000-000000000000"})))).then()}onConnectionFailed(){this.emit(new o)}processNotification(h){switch(h.Event){case _.Completed:const F=JSON.parse(n.Utf8.fromBase64Url(h.Data||""));return this.emit(new M(h.Device,F.SampleFormat,F.Samples));case _.Error:const z=JSON.parse(n.Utf8.fromBase64Url(h.Data||""));return this.emit(new J(h.Device,z.uError));case _.Disconnected:return this.emit(new m(h.Device));case _.Connected:return this.emit(new f(h.Device));case _.Quality:const $=JSON.parse(n.Utf8.fromBase64Url(h.Data||""));return this.emit(new L(h.Device,$.Quality));case _.Stopped:return this.emit(new Y(h.Device));case _.Started:return this.emit(new Q(h.Device));default:console.log(`Unknown notification: ${h.Event}`)}}},r.QualityReported=L,r.SamplesAcquired=M,r.WindowsAuthClient=class extends nt{constructor(h){super(),this.channel=new tt("wia",h),this.channel.onCommunicationError=this.onConnectionFailed.bind(this)}on(h,F){return this._on(h,F)}off(h,F){return this._off(h,F)}init(){return this.channel.send(new j(new X(x.Init)),3e3).then(h=>{const F=JSON.parse(h.Data||"{}");return{handle:F.Handle,data:F.Data}})}continue(h,F){return this.channel.send(new j(new X(x.Continue,JSON.stringify({Handle:h,Data:F})))).then(z=>JSON.parse(z.Data||"{}").Data)}term(h){return this.channel.send(new j(new X(x.Term,JSON.stringify({Handle:h})))).then()}onConnectionFailed(){this.emit(new o)}},Object.defineProperty(r,"__esModule",{value:!0})});